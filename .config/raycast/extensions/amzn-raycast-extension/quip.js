"use strict";var er=Object.create;var te=Object.defineProperty;var tr=Object.getOwnPropertyDescriptor;var rr=Object.getOwnPropertyNames;var nr=Object.getPrototypeOf,ir=Object.prototype.hasOwnProperty;var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),or=(t,e)=>{for(var r in e)te(t,r,{get:e[r],enumerable:!0})},De=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of rr(e))!ir.call(t,i)&&i!==r&&te(t,i,{get:()=>e[i],enumerable:!(n=tr(e,i))||n.enumerable});return t};var k=(t,e,r)=>(r=t!=null?er(nr(t)):{},De(e||!t||!t.__esModule?te(r,"default",{value:t,enumerable:!0}):r,t)),ar=t=>De(te({},"__esModule",{value:!0}),t);var ze=w((_,Ue)=>{"use strict";var fe=require("crypto");_=Ue.exports=W;function W(t,e){return e=Fe(t,e),sr(t,e)}_.sha1=function(t){return W(t)};_.keys=function(t){return W(t,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})};_.MD5=function(t){return W(t,{algorithm:"md5",encoding:"hex"})};_.keysMD5=function(t){return W(t,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var q=fe.getHashes?fe.getHashes().slice():["sha1","md5"];q.push("passthrough");var Ce=["buffer","hex","binary","base64"];function Fe(t,e){e=e||{};var r={};if(r.algorithm=e.algorithm||"sha1",r.encoding=e.encoding||"hex",r.excludeValues=!!e.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=e.ignoreUnknown===!0,r.respectType=e.respectType!==!1,r.respectFunctionNames=e.respectFunctionNames!==!1,r.respectFunctionProperties=e.respectFunctionProperties!==!1,r.unorderedArrays=e.unorderedArrays===!0,r.unorderedSets=e.unorderedSets!==!1,r.unorderedObjects=e.unorderedObjects!==!1,r.replacer=e.replacer||void 0,r.excludeKeys=e.excludeKeys||void 0,typeof t>"u")throw new Error("Object argument required.");for(var n=0;n<q.length;++n)q[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=q[n]);if(q.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+q.join(", "));if(Ce.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+Ce.join(", "));return r}function _e(t){if(typeof t!="function")return!1;var e=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return e.exec(Function.prototype.toString.call(t))!=null}function sr(t,e){var r;e.algorithm!=="passthrough"?r=fe.createHash(e.algorithm):r=new Me,typeof r.write>"u"&&(r.write=r.update,r.end=r.update);var n=me(e,r);if(n.dispatch(t),r.update||r.end(""),r.digest)return r.digest(e.encoding==="buffer"?void 0:e.encoding);var i=r.read();return e.encoding==="buffer"?i:i.toString(e.encoding)}_.writeToStream=function(t,e,r){return typeof r>"u"&&(r=e,e={}),e=Fe(t,e),me(e,r).dispatch(t)};function me(t,e,r){r=r||[];var n=function(i){return e.update?e.update(i,"utf8"):e.write(i,"utf8")};return{dispatch:function(i){t.replacer&&(i=t.replacer(i));var o=typeof i;return i===null&&(o="null"),this["_"+o](i)},_object:function(i){var o=/\[object (.*)\]/i,u=Object.prototype.toString.call(i),c=o.exec(u);c?c=c[1]:c="unknown:["+u+"]",c=c.toLowerCase();var f=null;if((f=r.indexOf(i))>=0)return this.dispatch("[CIRCULAR:"+f+"]");if(r.push(i),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(i))return n("buffer:"),n(i);if(c!=="object"&&c!=="function"&&c!=="asyncfunction")if(this["_"+c])this["_"+c](i);else{if(t.ignoreUnknown)return n("["+c+"]");throw new Error('Unknown object type "'+c+'"')}else{var d=Object.keys(i);t.unorderedObjects&&(d=d.sort()),t.respectType!==!1&&!_e(i)&&d.splice(0,0,"prototype","__proto__","constructor"),t.excludeKeys&&(d=d.filter(function(h){return!t.excludeKeys(h)})),n("object:"+d.length+":");var m=this;return d.forEach(function(h){m.dispatch(h),n(":"),t.excludeValues||m.dispatch(i[h]),n(",")})}},_array:function(i,o){o=typeof o<"u"?o:t.unorderedArrays!==!1;var u=this;if(n("array:"+i.length+":"),!o||i.length<=1)return i.forEach(function(d){return u.dispatch(d)});var c=[],f=i.map(function(d){var m=new Me,h=r.slice(),$=me(t,m,h);return $.dispatch(d),c=c.concat(h.slice(r.length)),m.read().toString()});return r=r.concat(c),f.sort(),this._array(f,!1)},_date:function(i){return n("date:"+i.toJSON())},_symbol:function(i){return n("symbol:"+i.toString())},_error:function(i){return n("error:"+i.toString())},_boolean:function(i){return n("bool:"+i.toString())},_string:function(i){n("string:"+i.length+":"),n(i.toString())},_function:function(i){n("fn:"),_e(i)?this.dispatch("[native]"):this.dispatch(i.toString()),t.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(i.name)),t.respectFunctionProperties&&this._object(i)},_number:function(i){return n("number:"+i.toString())},_xml:function(i){return n("xml:"+i.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(i){return n("regex:"+i.toString())},_uint8array:function(i){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint8clampedarray:function(i){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(i))},_int8array:function(i){return n("int8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint16array:function(i){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(i))},_int16array:function(i){return n("int16array:"),this.dispatch(Array.prototype.slice.call(i))},_uint32array:function(i){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(i))},_int32array:function(i){return n("int32array:"),this.dispatch(Array.prototype.slice.call(i))},_float32array:function(i){return n("float32array:"),this.dispatch(Array.prototype.slice.call(i))},_float64array:function(i){return n("float64array:"),this.dispatch(Array.prototype.slice.call(i))},_arraybuffer:function(i){return n("arraybuffer:"),this.dispatch(new Uint8Array(i))},_url:function(i){return n("url:"+i.toString(),"utf8")},_map:function(i){n("map:");var o=Array.from(i);return this._array(o,t.unorderedSets!==!1)},_set:function(i){n("set:");var o=Array.from(i);return this._array(o,t.unorderedSets!==!1)},_file:function(i){return n("file:"),this.dispatch([i.name,i.size,i.type,i.lastModfied])},_blob:function(){if(t.ignoreUnknown)return n("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return n("domwindow")},_bigint:function(i){return n("bigint:"+i.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function Me(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}});var Ee=w((ki,st)=>{var vr=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};st.exports=vr});var we=w((Ni,ct)=>{var xr="2.0.0",Ar=Number.MAX_SAFE_INTEGER||9007199254740991,$r=16,Sr=256-6,Ir=["major","premajor","minor","preminor","patch","prepatch","prerelease"];ct.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:$r,MAX_SAFE_BUILD_LENGTH:Sr,MAX_SAFE_INTEGER:Ar,RELEASE_TYPES:Ir,SEMVER_SPEC_VERSION:xr,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ut=w((O,lt)=>{var{MAX_SAFE_COMPONENT_LENGTH:be,MAX_SAFE_BUILD_LENGTH:Rr,MAX_LENGTH:Tr}=we(),kr=Ee();O=lt.exports={};var Nr=O.re=[],Or=O.safeRe=[],a=O.src=[],s=O.t={},Lr=0,ve="[a-zA-Z0-9-]",Pr=[["\\s",1],["\\d",Tr],[ve,Rr]],Dr=t=>{for(let[e,r]of Pr)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},p=(t,e,r)=>{let n=Dr(e),i=Lr++;kr(t,i,e),s[t]=i,a[i]=e,Nr[i]=new RegExp(e,r?"g":void 0),Or[i]=new RegExp(n,r?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*");p("NUMERICIDENTIFIERLOOSE","\\d+");p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ve}*`);p("MAINVERSION",`(${a[s.NUMERICIDENTIFIER]})\\.(${a[s.NUMERICIDENTIFIER]})\\.(${a[s.NUMERICIDENTIFIER]})`);p("MAINVERSIONLOOSE",`(${a[s.NUMERICIDENTIFIERLOOSE]})\\.(${a[s.NUMERICIDENTIFIERLOOSE]})\\.(${a[s.NUMERICIDENTIFIERLOOSE]})`);p("PRERELEASEIDENTIFIER",`(?:${a[s.NUMERICIDENTIFIER]}|${a[s.NONNUMERICIDENTIFIER]})`);p("PRERELEASEIDENTIFIERLOOSE",`(?:${a[s.NUMERICIDENTIFIERLOOSE]}|${a[s.NONNUMERICIDENTIFIER]})`);p("PRERELEASE",`(?:-(${a[s.PRERELEASEIDENTIFIER]}(?:\\.${a[s.PRERELEASEIDENTIFIER]})*))`);p("PRERELEASELOOSE",`(?:-?(${a[s.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[s.PRERELEASEIDENTIFIERLOOSE]})*))`);p("BUILDIDENTIFIER",`${ve}+`);p("BUILD",`(?:\\+(${a[s.BUILDIDENTIFIER]}(?:\\.${a[s.BUILDIDENTIFIER]})*))`);p("FULLPLAIN",`v?${a[s.MAINVERSION]}${a[s.PRERELEASE]}?${a[s.BUILD]}?`);p("FULL",`^${a[s.FULLPLAIN]}$`);p("LOOSEPLAIN",`[v=\\s]*${a[s.MAINVERSIONLOOSE]}${a[s.PRERELEASELOOSE]}?${a[s.BUILD]}?`);p("LOOSE",`^${a[s.LOOSEPLAIN]}$`);p("GTLT","((?:<|>)?=?)");p("XRANGEIDENTIFIERLOOSE",`${a[s.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);p("XRANGEIDENTIFIER",`${a[s.NUMERICIDENTIFIER]}|x|X|\\*`);p("XRANGEPLAIN",`[v=\\s]*(${a[s.XRANGEIDENTIFIER]})(?:\\.(${a[s.XRANGEIDENTIFIER]})(?:\\.(${a[s.XRANGEIDENTIFIER]})(?:${a[s.PRERELEASE]})?${a[s.BUILD]}?)?)?`);p("XRANGEPLAINLOOSE",`[v=\\s]*(${a[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[s.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[s.XRANGEIDENTIFIERLOOSE]})(?:${a[s.PRERELEASELOOSE]})?${a[s.BUILD]}?)?)?`);p("XRANGE",`^${a[s.GTLT]}\\s*${a[s.XRANGEPLAIN]}$`);p("XRANGELOOSE",`^${a[s.GTLT]}\\s*${a[s.XRANGEPLAINLOOSE]}$`);p("COERCE",`(^|[^\\d])(\\d{1,${be}})(?:\\.(\\d{1,${be}}))?(?:\\.(\\d{1,${be}}))?(?:$|[^\\d])`);p("COERCERTL",a[s.COERCE],!0);p("LONETILDE","(?:~>?)");p("TILDETRIM",`(\\s*)${a[s.LONETILDE]}\\s+`,!0);O.tildeTrimReplace="$1~";p("TILDE",`^${a[s.LONETILDE]}${a[s.XRANGEPLAIN]}$`);p("TILDELOOSE",`^${a[s.LONETILDE]}${a[s.XRANGEPLAINLOOSE]}$`);p("LONECARET","(?:\\^)");p("CARETTRIM",`(\\s*)${a[s.LONECARET]}\\s+`,!0);O.caretTrimReplace="$1^";p("CARET",`^${a[s.LONECARET]}${a[s.XRANGEPLAIN]}$`);p("CARETLOOSE",`^${a[s.LONECARET]}${a[s.XRANGEPLAINLOOSE]}$`);p("COMPARATORLOOSE",`^${a[s.GTLT]}\\s*(${a[s.LOOSEPLAIN]})$|^$`);p("COMPARATOR",`^${a[s.GTLT]}\\s*(${a[s.FULLPLAIN]})$|^$`);p("COMPARATORTRIM",`(\\s*)${a[s.GTLT]}\\s*(${a[s.LOOSEPLAIN]}|${a[s.XRANGEPLAIN]})`,!0);O.comparatorTrimReplace="$1$2$3";p("HYPHENRANGE",`^\\s*(${a[s.XRANGEPLAIN]})\\s+-\\s+(${a[s.XRANGEPLAIN]})\\s*$`);p("HYPHENRANGELOOSE",`^\\s*(${a[s.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[s.XRANGEPLAINLOOSE]})\\s*$`);p("STAR","(<|>)?=?\\s*\\*");p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var dt=w((Oi,pt)=>{var Cr=Object.freeze({loose:!0}),_r=Object.freeze({}),Fr=t=>t?typeof t!="object"?Cr:t:_r;pt.exports=Fr});var gt=w((Li,ht)=>{var ft=/^[0-9]+$/,mt=(t,e)=>{let r=ft.test(t),n=ft.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Mr=(t,e)=>mt(e,t);ht.exports={compareIdentifiers:mt,rcompareIdentifiers:Mr}});var xe=w((Pi,bt)=>{var ce=Ee(),{MAX_LENGTH:yt,MAX_SAFE_INTEGER:le}=we(),{safeRe:Et,t:wt}=ut(),Ur=dt(),{compareIdentifiers:V}=gt(),v=class{constructor(e,r){if(r=Ur(r),e instanceof v){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>yt)throw new TypeError(`version is longer than ${yt} characters`);ce("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?Et[wt.LOOSE]:Et[wt.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>le||this.major<0)throw new TypeError("Invalid major version");if(this.minor>le||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>le||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<le)return o}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ce("SemVer.compare",this.version,this.options,e),!(e instanceof v)){if(typeof e=="string"&&e===this.version)return 0;e=new v(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof v||(e=new v(e,this.options)),V(this.major,e.major)||V(this.minor,e.minor)||V(this.patch,e.patch)}comparePre(e){if(e instanceof v||(e=new v(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(ce("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return V(n,i)}while(++r)}compareBuild(e){e instanceof v||(e=new v(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(ce("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return V(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let o=[r,i];n===!1&&(o=[r]),V(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};bt.exports=v});var Ae=w((Di,xt)=>{var vt=xe(),zr=(t,e,r=!1)=>{if(t instanceof vt)return t;try{return new vt(t,e)}catch(n){if(!r)return null;throw n}};xt.exports=zr});var $t=w((Ci,At)=>{var jr=Ae(),qr=(t,e)=>{let r=jr(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};At.exports=qr});var ue=w((_i,It)=>{var St=xe(),Gr=(t,e,r)=>new St(t,r).compare(new St(e,r));It.exports=Gr});var Tt=w((Fi,Rt)=>{var Hr=ue(),Br=(t,e,r)=>Hr(t,e,r)>0;Rt.exports=Br});var Nt=w((Mi,kt)=>{var Vr=ue(),Xr=(t,e,r)=>Vr(t,e,r)<0;kt.exports=Xr});var $e=w((Ui,Ot)=>{var Wr=ue(),Qr=(t,e,r)=>Wr(t,e,r)<=0;Ot.exports=Qr});var Pt=w((zi,Lt)=>{var Jr=Ae(),Kr=(t,e)=>{let r=Jr(t,e);return r?r.version:null};Lt.exports=Kr});var mn={};or(mn,{default:()=>Zt});module.exports=ar(mn);var ye=k(ze(),1),M=require("react");var Ge=require("@raycast/api"),G=require("react");var je=require("react");function E(t){let e=(0,je.useRef)(t);return e.current=t,e}function cr(t,e){let r=this[t];return r instanceof Date?`__raycast_cached_date__${r.toString()}`:Buffer.isBuffer(r)?`__raycast_cached_buffer__${r.toString("base64")}`:e}function lr(t,e){return typeof e=="string"&&e.startsWith("__raycast_cached_date__")?new Date(e.replace("__raycast_cached_date__","")):typeof e=="string"&&e.startsWith("__raycast_cached_buffer__")?Buffer.from(e.replace("__raycast_cached_buffer__",""),"base64"):e}var ur=Symbol("cache without namespace"),qe=new Map;function he(t,e,r){let n=r?.cacheNamespace||ur,i=qe.get(n)||qe.set(n,new Ge.Cache({namespace:r?.cacheNamespace})).get(n);if(!i)throw new Error("Missing cache");let o=E(t),u=E(e),c=(0,G.useSyncExternalStore)(i.subscribe,()=>{try{return i.get(o.current)}catch(h){console.error("Could not get Cache data:",h);return}}),f=(0,G.useMemo)(()=>{if(typeof c<"u"){if(c==="undefined")return;try{return JSON.parse(c,lr)}catch(h){return console.warn("The cached data is corrupted",h),u.current}}else return u.current},[c,u]),d=E(f),m=(0,G.useCallback)(h=>{let $=typeof h=="function"?h(d.current):h;if(typeof $>"u")i.set(o.current,"undefined");else{let D=JSON.stringify($,cr);i.set(o.current,D)}return $},[i,o,d]);return[f,m]}var F=require("@raycast/api"),A=require("react");var S=require("@raycast/api"),ge=class{toast;abortable;_abortController;constructor(e){this.abortable=e.abortable,this.toast=S.environment.launchType===S.LaunchType.UserInitiated?new S.Toast(e):void 0,this.updateAbortAction()}updateAbortAction(){this.toast&&(this._abortController=this.abortable?new AbortController:void 0,this.toast.primaryAction=this.abortable?{title:"Cancel",onAction:()=>{console.warn("Aborting..."),this._abortController?.abort()}}:void 0)}updateContent(e){if(this.toast){let{title:r,style:n,message:i,secondaryAction:o}=this.toast;this.toast.title=e.title??r,this.toast.style=e.style??n,this.toast.message=e.message??i,this.abortable=e.abortable??this.abortable,this.toast.secondaryAction=e.secondaryAction??o,this.updateAbortAction()}}show(){return this.toast?this.toast.show():Promise.resolve()}hide(){return this.toast?this.toast.hide():Promise.resolve()}get abortController(){return this._abortController}},re=async t=>{let e=new ge(t);return await e.show(),e},He=t=>{let e=t instanceof Error?t?.stack||t?.message||"":String(t);return{title:"Copy Logs",onAction(r){r.hide(),S.Clipboard.copy(e)}}};function Be(t,e){let r=t instanceof Error?t.message:String(t);return(0,S.showToast)({style:S.Toast.Style.Failure,title:e?.title??"Something went wrong",message:r,primaryAction:e?.primaryAction??He(t),secondaryAction:e?.primaryAction?He(t):void 0})}var Ve=Object.prototype.hasOwnProperty;function ne(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&ne(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(Ve.call(t,r)&&++n&&!Ve.call(e,r)||!(r in e)||!ne(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}var Q=require("react");function Xe(t){let e=(0,Q.useRef)(t),r=(0,Q.useRef)(0);return ne(t,e.current)||(e.current=t,r.current+=1),(0,Q.useMemo)(()=>e.current,[r.current])}function H(t,e,r){let n=(0,A.useRef)(0),[i,o]=(0,A.useState)({isLoading:!0}),u=E(t),c=E(r?.abortable),f=E(e||[]),d=E(r?.onError),m=E(r?.onData),h=E(r?.onWillExecute),$=E(i.data),D=(0,A.useRef)(),L=(0,A.useCallback)((...P)=>{let y=++n.current;return c.current&&(c.current.current?.abort(),c.current.current=new AbortController),h.current?.(P),o(g=>({...g,isLoading:!0})),pr(u.current)(...P).then(g=>(y===n.current&&(m.current&&m.current(g),o({data:g,isLoading:!1})),g),g=>(g.name=="AbortError"||y===n.current&&(d.current?d.current(g):(console.error(g),F.environment.launchType!==F.LaunchType.Background&&Be(g,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(X){X.hide(),D.current?.(...f.current||[])}}})),o({error:g,isLoading:!1})),g))},[c,m,d,f,u,o,D,h]);D.current=L;let T=(0,A.useCallback)(()=>L(...f.current||[]),[L,f]),de=(0,A.useCallback)(async(P,y)=>{let g;try{if(y?.optimisticUpdate){typeof y?.rollbackOnError!="function"&&y?.rollbackOnError!==!1&&(g=structuredClone($.current?.value));let X=y.optimisticUpdate;o(j=>({...j,data:X(j.data)}))}return await P}catch(X){if(typeof y?.rollbackOnError=="function"){let j=y.rollbackOnError;o(Pe=>({...Pe,data:j(Pe.data)}))}else y?.optimisticUpdate&&y?.rollbackOnError!==!1&&o(j=>({...j,data:g}));throw X}finally{y?.shouldRevalidateAfter!==!1&&(F.environment.launchType===F.LaunchType.Background||F.environment.commandMode==="menu-bar"?await T():T())}},[T,$,o]);(0,A.useEffect)(()=>{r?.execute!==!1?L(...e||[]):c.current&&c.current.current?.abort()},[Xe([e,r?.execute,L]),c]),(0,A.useEffect)(()=>()=>{c.current&&c.current.current?.abort()},[c]);let C=r?.execute!==!1?i.isLoading:!1;return{...{...i,isLoading:C},revalidate:T,mutate:de}}function pr(t){return t===Promise.all||t===Promise.race||t===Promise.resolve||t===Promise.reject?t.bind(Promise):t}var J=Symbol();function We(t,e,r){let{initialData:n,keepPreviousData:i,...o}=r||{},u=(0,M.useRef)(),[c,f]=he((0,ye.default)(e||[]),J,{cacheNamespace:(0,ye.default)(t)}),d=(0,M.useRef)(c!==J?c:n),{mutate:m,revalidate:h,...$}=H(t,e||[],{...o,onData(C){o.onData&&o.onData(C),u.current="promise",d.current=C,f(C)}}),D=c!==J?c:n,L=u.current==="promise"?d.current:i?c!==J?c:d.current:D,T=E(L),de=(0,M.useCallback)(async(C,R)=>{let P;try{if(R?.optimisticUpdate){typeof R?.rollbackOnError!="function"&&R?.rollbackOnError!==!1&&(P=structuredClone(T.current));let y=R.optimisticUpdate(T.current);u.current="cache",d.current=y,f(y)}return await m(C,{shouldRevalidateAfter:R?.shouldRevalidateAfter})}catch(y){if(typeof R?.rollbackOnError=="function"){let g=R.rollbackOnError(T.current);u.current="cache",d.current=g,f(g)}else R?.optimisticUpdate&&R?.rollbackOnError!==!1&&(u.current="cache",d.current=P,f(P));throw y}},[f,m,T,d,u]);return(0,M.useEffect)(()=>{c!==J&&(u.current="cache",d.current=c)},[c]),{data:L,isLoading:$.isLoading,error:$.error,mutate:de,revalidate:h}}var ie=require("react");var Qe;(function(t){t.Required="required"})(Qe||(Qe={}));var Je=require("react");var dr=10,fr=24*60*60*1e3,Cn=Math.log(2)/(dr*fr);var Ke=require("child_process"),Ye=require("util");var B=(0,Ye.promisify)(Ke.exec),K=t=>typeof t=="object"&&"stderr"in t?t.stderr:Ze(t);var et=require("@raycast/api");var tt=t=>{try{let e=JSON.parse(t);if(e&&typeof e=="object")return!0}catch{}return!1},oe=t=>Array.isArray(t)?t.filter(e=>!!e):[];var rt=k(require("os"),1);var{username:ei}=rt.default.userInfo();var nt=require("@raycast/api");var U=t=>t==null?"":String(t),Ze=t=>t instanceof Error?t.message:U(t);var hr=require("@raycast/api");var ot=k(require("os"),1);var it=`${ot.default.homedir()}/.midway/cookie`,yr=t=>typeof t=="object"&&t.__type&&t.__type.includes("Exception"),Er=t=>typeof t=="object"&&t.status&&t.status==="error",wr=(t,e)=>{let{cookie:r,data:n,args:i=[],headers:o={},method:u,maxBuffer:c,cancel:f}=e,d=[`curl -sSL '${t}'`,`-X ${u??"GET"}`,Object.entries(o).map(([m,h])=>`-H '${m}: ${h}'`),i,n?[`-d '${JSON.stringify(n)}'`]:[],r?[`-b '${Object.entries(r).map(([m,h])=>`${m}=${h}`).join(";")}'`]:[]].flat();return B(d.join(" "),{maxBuffer:c,signal:f?.signal}).then(({stdout:m})=>tt(m)?JSON.parse(m):m).catch(m=>{throw new Error(K(m))})};var N=(t,e={})=>{let{ignoreCoralError:r=!1,writeToCookieFile:n=!0,args:i=[],...o}=e,u=[i,`--anyauth --location-trusted -k -u : -b ${it}`,n?[`-c ${it}`]:[]].flat();return wr(t,{...o,args:u}).then(c=>{if(!r&&yr(c))throw new Error(`${c.__type}${c.message?`: ${c.message}`:""}`);if(Er(c))throw new Error(`${c.message??"Midway Error"}: ${c.desc??"You should authenticate (may use mwinit)"}`);return c})};var br=(t,e)=>N("https://gitfarm-sso.corp.amazon.com",{...e,method:"POST",headers:{"Content-Encoding":"amz-1.0","Content-Type":"application/json; charset=UTF-8","X-Amz-Target":`com.amazon.brazil.gitfarm.service.GitFarmService.${t}`}}),at=t=>br("getReferenceSha1s",{data:{repositoryId:t}}).then(e=>e.references);var ae=require("@raycast/api");function se(t,e=!0){let{launchType:r,extensionName:n,commandName:i}=ae.environment;return!e||r===ae.LaunchType.Background?Promise.resolve():N("https://analytics.raycast.tools.aws.dev/v2/stats",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},data:{commandName:i,extensionVersion:t,extensionName:n}}).catch(o=>console.warn(`Failed to publish stats for ${n}/${i}.`,o))}var x=require("@raycast/api");var Yr=k($t(),1),Se=k(Tt(),1),Zr=k(Nt(),1),en=k($e(),1),Dt=k(Pt(),1);var Ct=t=>at(`pkg/${t}`).then(e=>e.map(r=>(r.name.match(/refs\/tags\/(.*)/)??["",""])[1]).filter(r=>(0,Dt.default)(r))).then(e=>e.length===0?void 0:e.reduce((r,n)=>(0,Se.default)(n,r)?n:r,e[0])).catch(e=>{console.warn(`Failed to get the latest extension version for ${t}.`,e)}),_t=async t=>{let{launchType:e,extensionName:r}=x.environment,{updateCommandName:n,changelogCommandName:i,currentVersion:o,pkg:u,extensionOwner:c}=t,f=await Ct(u);if(e===x.LaunchType.UserInitiated&&f&&(0,Se.default)(f,o)){let d={type:x.LaunchType.UserInitiated,extensionName:r,ownerOrAuthorName:c};await(0,x.showToast)({style:x.Toast.Style.Success,title:`\u2728 New version (${f}) now available!`,message:`Upgrade from current version (${o}) for the latest features and improvements.`,primaryAction:{title:"Update Extension",onAction:()=>(0,x.launchCommand)({name:n??"update-extension",...d})},secondaryAction:{title:"Changelog",onAction:()=>(0,x.launchCommand)({name:i??"extension-changelog",...d})}})}};var Ft=require("@raycast/api"),rn=(0,Ft.getPreferenceValues)()["quip-api-token"],nn="quip-amazon.com",on=/https:\/\/quip-amazon.com\/(.+)/,Mt=(t,e)=>{let r=new URLSearchParams({query:t,only_match_titles:U(e),count:"50"});return N(`https://platform.${nn}/1/threads/search/?${r}`,{headers:{Accept:"application/json",Authorization:`Bearer ${rn}`}}).then(n=>{if(n.error)throw new Error(n.error_description);let i=oe(n).map(o=>o.thread).map(o=>{let{title:u,link:c,type:f}=o,d=c.match(on);if(!d)return;let[,m]=d;return{id:m,title:u,link:c,type:f}});return oe(i)})};var zt=require("@raycast/api");var Ie=require("@raycast/api"),Ut=(l=>(l.Amazon="amazon.svg",l.AmazonChime="amazon-chime.svg",l.Badge="badge.svg",l.Book="book.svg",l.BoxArchive="box-archive.svg",l.Broadcast="broadcast.svg",l.BuilderHub="builder-hub.svg",l.BuildingColumns="building-columns.svg",l.CheckSquare="check-square.svg",l.ClappingHands="clapping-hands.svg",l.Cube="cube.svg",l.Cubes="cubes.svg",l.Document="document.svg",l.Earth="earth.svg",l.EverGeen="ever-green.svg",l.Firefox="firefox.svg",l.InternalSearch="internal-search.svg",l.Isengard="isengard.svg",l.Issue="issue.svg",l.IT="it.svg",l.PaperPlane="paper-plane.svg",l.Pipeline="pipeline.svg",l.PipelineDisabled="pipeline-disabled.svg",l.PriorityHigh="priority-high.svg",l.PriorityLow="priority-low.svg",l.PriorityMedium="priority-medium.svg",l.Quip="quip.svg",l.Sage="sage.svg",l.SavedSearch="saved-search.svg",l.Siren="siren.svg",l.Slack="slack.svg",l.Slides="slides.svg",l.Spinner="spinner.svg",l.Spreadsheet="spreadsheet.svg",l.Sprint="sprint.svg",l.SquareFive="five.svg",l.SquareFour="four.svg",l.SquareOne="one.svg",l.SquareThree="three.svg",l.SquareTwo="two.svg",l[l.Story=Ie.Icon.Book]="Story",l.TaskeiRoom="taskei-room.svg",l.TaskeiSubtask="taskei-subtask.svg",l.TaskeiTask="taskei-task.svg",l.ThumbsUp="thumbs-up.svg",l.Ticket="ticket.svg",l.Wiki="wiki.svg",l))(Ut||{}),an={...Ie.Icon,...Ut},I=an;var jt=require("react/jsx-runtime");function Re({url:t,onCopy:e}){return(0,jt.jsx)(zt.Action.CopyToClipboard,{title:"Copy Link",content:t,shortcut:{modifiers:["cmd","shift"],key:"c"},icon:I.Clipboard,onCopy:e})}var b=require("@raycast/api");var qt=require("@raycast/api"),Gt=(o=>(o.Bronze="#CD7F32",o.Gold="#FFD700",o.LightSilver="#D8D8D8",o.Orange="#F19F39",o.Rurikon="#0B346E",o))(Gt||{}),sn={...qt.Color,...Gt},Y=sn;var z=require("react/jsx-runtime"),Ht={chat:{source:I.Bubble,tintColor:Y.Yellow},spreadsheet:{source:I.Spreadsheet,tintColor:Y.Green},slides:{source:I.Slides,tintColor:Y.Orange},document:{source:I.Document,tintColor:Y.Blue}},cn=t=>Ht[t]??Ht.document,Bt="com.quip.Desktop",ln=()=>(0,b.getApplications)().then(t=>t.some(({bundleId:e})=>e===Bt)),un=async t=>{await ln()?await(0,b.open)(t,Bt):(await re({style:b.Toast.Style.Failure,title:"Quip is not installed."}),await(0,b.open)(t))};function Te({thread:t}){let{id:e,title:r,type:n,link:i}=t;return(0,z.jsx)(b.List.Item,{title:r,icon:cn(n),actions:(0,z.jsxs)(b.ActionPanel,{children:[(0,z.jsx)(b.Action.OpenInBrowser,{url:i}),(0,z.jsx)(b.Action,{title:"Open in App",icon:I.Quip,onAction:()=>un(`quip://${e}`)}),(0,z.jsx)(Re,{url:i})]})},e)}var Z=require("@raycast/api");var pn=k($e());var Xt="1.17.9";var Wt="zhenpewu";var ke=Xt,dn="AmznRaycastExtension";var Qt=()=>_t({pkg:dn,currentVersion:ke,extensionOwner:Wt});function Ne(){H(Qt,[])}var Jt=require("react");function Oe(t,{sanitize:e=!1}={}){let[r,n]=(0,Jt.useState)(t),i=u=>e?u.replace(/\s/g,""):u.trim();return[r,u=>n(i(u))]}var fn=()=>se(ke,!0),Kt=fn;function Le(){H(Kt,[])}var pe=require("@raycast/api");var Yt=require("react"),ee=require("react/jsx-runtime");function Zt(){let[t,e]=Oe(""),[r,n]=(0,Yt.useState)(!0),{isLoading:i,data:o}=We(Mt,[t,r],{execute:t.length>=3});return Le(),Ne(),(0,ee.jsx)(pe.List,{onSearchTextChange:e,isLoading:i,searchBarAccessory:(0,ee.jsx)(pe.List.Dropdown,{tooltip:"",storeValue:!0,defaultValue:U(r),onChange:u=>n(JSON.parse(u)),children:[r,!r].map(u=>(0,ee.jsx)(pe.List.Dropdown.Item,{icon:u?I.Text:I.Paragraph,title:u?"Match Title":"Match Content",value:U(u)},U(u)))}),throttle:!0,children:o?.map(u=>(0,ee.jsx)(Te,{thread:u},u.id))})}
