"use strict";var Xt=Object.create;var _=Object.defineProperty;var Vt=Object.getOwnPropertyDescriptor;var Bt=Object.getOwnPropertyNames;var Jt=Object.getPrototypeOf,Yt=Object.prototype.hasOwnProperty;var v=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Qt=(t,e)=>{for(var n in e)_(t,n,{get:e[n],enumerable:!0})},Re=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Bt(e))!Yt.call(t,o)&&o!==n&&_(t,o,{get:()=>e[o],enumerable:!(r=Vt(e,o))||r.enumerable});return t};var I=(t,e,n)=>(n=t!=null?Xt(Jt(t)):{},Re(e||!t||!t.__esModule?_(n,"default",{value:t,enumerable:!0}):n,t)),Kt=t=>Re(_({},"__esModule",{value:!0}),t);var ve=v((pi,lt)=>{var Zn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};lt.exports=Zn});var Ee=v((fi,mt)=>{var er="2.0.0",tr=Number.MAX_SAFE_INTEGER||9007199254740991,nr=16,rr=256-6,or=["major","premajor","minor","preminor","patch","prepatch","prerelease"];mt.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:nr,MAX_SAFE_BUILD_LENGTH:rr,MAX_SAFE_INTEGER:tr,RELEASE_TYPES:or,SEMVER_SPEC_VERSION:er,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var dt=v((A,ut)=>{var{MAX_SAFE_COMPONENT_LENGTH:be,MAX_SAFE_BUILD_LENGTH:ar,MAX_LENGTH:ir}=Ee(),sr=ve();A=ut.exports={};var cr=A.re=[],lr=A.safeRe=[],a=A.src=[],i=A.t={},mr=0,xe="[a-zA-Z0-9-]",ur=[["\\s",1],["\\d",ir],[xe,ar]],dr=t=>{for(let[e,n]of ur)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},m=(t,e,n)=>{let r=dr(e),o=mr++;sr(t,o,e),i[t]=o,a[o]=e,cr[o]=new RegExp(e,n?"g":void 0),lr[o]=new RegExp(r,n?"g":void 0)};m("NUMERICIDENTIFIER","0|[1-9]\\d*");m("NUMERICIDENTIFIERLOOSE","\\d+");m("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${xe}*`);m("MAINVERSION",`(${a[i.NUMERICIDENTIFIER]})\\.(${a[i.NUMERICIDENTIFIER]})\\.(${a[i.NUMERICIDENTIFIER]})`);m("MAINVERSIONLOOSE",`(${a[i.NUMERICIDENTIFIERLOOSE]})\\.(${a[i.NUMERICIDENTIFIERLOOSE]})\\.(${a[i.NUMERICIDENTIFIERLOOSE]})`);m("PRERELEASEIDENTIFIER",`(?:${a[i.NUMERICIDENTIFIER]}|${a[i.NONNUMERICIDENTIFIER]})`);m("PRERELEASEIDENTIFIERLOOSE",`(?:${a[i.NUMERICIDENTIFIERLOOSE]}|${a[i.NONNUMERICIDENTIFIER]})`);m("PRERELEASE",`(?:-(${a[i.PRERELEASEIDENTIFIER]}(?:\\.${a[i.PRERELEASEIDENTIFIER]})*))`);m("PRERELEASELOOSE",`(?:-?(${a[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${a[i.PRERELEASEIDENTIFIERLOOSE]})*))`);m("BUILDIDENTIFIER",`${xe}+`);m("BUILD",`(?:\\+(${a[i.BUILDIDENTIFIER]}(?:\\.${a[i.BUILDIDENTIFIER]})*))`);m("FULLPLAIN",`v?${a[i.MAINVERSION]}${a[i.PRERELEASE]}?${a[i.BUILD]}?`);m("FULL",`^${a[i.FULLPLAIN]}$`);m("LOOSEPLAIN",`[v=\\s]*${a[i.MAINVERSIONLOOSE]}${a[i.PRERELEASELOOSE]}?${a[i.BUILD]}?`);m("LOOSE",`^${a[i.LOOSEPLAIN]}$`);m("GTLT","((?:<|>)?=?)");m("XRANGEIDENTIFIERLOOSE",`${a[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);m("XRANGEIDENTIFIER",`${a[i.NUMERICIDENTIFIER]}|x|X|\\*`);m("XRANGEPLAIN",`[v=\\s]*(${a[i.XRANGEIDENTIFIER]})(?:\\.(${a[i.XRANGEIDENTIFIER]})(?:\\.(${a[i.XRANGEIDENTIFIER]})(?:${a[i.PRERELEASE]})?${a[i.BUILD]}?)?)?`);m("XRANGEPLAINLOOSE",`[v=\\s]*(${a[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${a[i.XRANGEIDENTIFIERLOOSE]})(?:${a[i.PRERELEASELOOSE]})?${a[i.BUILD]}?)?)?`);m("XRANGE",`^${a[i.GTLT]}\\s*${a[i.XRANGEPLAIN]}$`);m("XRANGELOOSE",`^${a[i.GTLT]}\\s*${a[i.XRANGEPLAINLOOSE]}$`);m("COERCE",`(^|[^\\d])(\\d{1,${be}})(?:\\.(\\d{1,${be}}))?(?:\\.(\\d{1,${be}}))?(?:$|[^\\d])`);m("COERCERTL",a[i.COERCE],!0);m("LONETILDE","(?:~>?)");m("TILDETRIM",`(\\s*)${a[i.LONETILDE]}\\s+`,!0);A.tildeTrimReplace="$1~";m("TILDE",`^${a[i.LONETILDE]}${a[i.XRANGEPLAIN]}$`);m("TILDELOOSE",`^${a[i.LONETILDE]}${a[i.XRANGEPLAINLOOSE]}$`);m("LONECARET","(?:\\^)");m("CARETTRIM",`(\\s*)${a[i.LONECARET]}\\s+`,!0);A.caretTrimReplace="$1^";m("CARET",`^${a[i.LONECARET]}${a[i.XRANGEPLAIN]}$`);m("CARETLOOSE",`^${a[i.LONECARET]}${a[i.XRANGEPLAINLOOSE]}$`);m("COMPARATORLOOSE",`^${a[i.GTLT]}\\s*(${a[i.LOOSEPLAIN]})$|^$`);m("COMPARATOR",`^${a[i.GTLT]}\\s*(${a[i.FULLPLAIN]})$|^$`);m("COMPARATORTRIM",`(\\s*)${a[i.GTLT]}\\s*(${a[i.LOOSEPLAIN]}|${a[i.XRANGEPLAIN]})`,!0);A.comparatorTrimReplace="$1$2$3";m("HYPHENRANGE",`^\\s*(${a[i.XRANGEPLAIN]})\\s+-\\s+(${a[i.XRANGEPLAIN]})\\s*$`);m("HYPHENRANGELOOSE",`^\\s*(${a[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${a[i.XRANGEPLAINLOOSE]})\\s*$`);m("STAR","(<|>)?=?\\s*\\*");m("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");m("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var ft=v((hi,pt)=>{var pr=Object.freeze({loose:!0}),fr=Object.freeze({}),hr=t=>t?typeof t!="object"?pr:t:fr;pt.exports=hr});var wt=v((gi,yt)=>{var ht=/^[0-9]+$/,gt=(t,e)=>{let n=ht.test(t),r=ht.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},gr=(t,e)=>gt(e,t);yt.exports={compareIdentifiers:gt,rcompareIdentifiers:gr}});var Ie=v((yi,xt)=>{var V=ve(),{MAX_LENGTH:vt,MAX_SAFE_INTEGER:B}=Ee(),{safeRe:Et,t:bt}=dt(),yr=ft(),{compareIdentifiers:O}=wt(),E=class{constructor(e,n){if(n=yr(n),e instanceof E){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>vt)throw new TypeError(`version is longer than ${vt} characters`);V("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Et[bt.LOOSE]:Et[bt.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>B||this.major<0)throw new TypeError("Invalid major version");if(this.minor>B||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>B||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let s=+o;if(s>=0&&s<B)return s}return o}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(V("SemVer.compare",this.version,this.options,e),!(e instanceof E)){if(typeof e=="string"&&e===this.version)return 0;e=new E(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof E||(e=new E(e,this.options)),O(this.major,e.major)||O(this.minor,e.minor)||O(this.patch,e.patch)}comparePre(e){if(e instanceof E||(e=new E(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],o=e.prerelease[n];if(V("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return O(r,o)}while(++n)}compareBuild(e){e instanceof E||(e=new E(e,this.options));let n=0;do{let r=this.build[n],o=e.build[n];if(V("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return O(r,o)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(n){let s=[n,o];r===!1&&(s=[n]),O(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};xt.exports=E});var $e=v((wi,$t)=>{var It=Ie(),wr=(t,e,n=!1)=>{if(t instanceof It)return t;try{return new It(t,e)}catch(r){if(!n)return null;throw r}};$t.exports=wr});var St=v((vi,At)=>{var vr=$e(),Er=(t,e)=>{let n=vr(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};At.exports=Er});var J=v((Ei,Nt)=>{var Tt=Ie(),br=(t,e,n)=>new Tt(t,n).compare(new Tt(e,n));Nt.exports=br});var Mt=v((bi,Rt)=>{var xr=J(),Ir=(t,e,n)=>xr(t,e,n)>0;Rt.exports=Ir});var Ct=v((xi,Dt)=>{var $r=J(),Ar=(t,e,n)=>$r(t,e,n)<0;Dt.exports=Ar});var Ae=v((Ii,kt)=>{var Sr=J(),Tr=(t,e,n)=>Sr(t,e,n)<=0;kt.exports=Tr});var Pt=v(($i,Ot)=>{var Nr=$e(),Rr=(t,e)=>{let n=Nr(t,e);return n?n.version:null};Ot.exports=Rr});var Fr={};Qt(Fr,{default:()=>Ht});module.exports=Kt(Fr);var Me=require("child_process"),De=require("util");var w=(0,De.promisify)(Me.exec),S=t=>typeof t=="object"&&"stderr"in t?t.stderr:Ce(t);var Zt=()=>w("ps -eo pid,comm").then(({stdout:t})=>t.split(`
`)),en=t=>w(`kill -9 ${t}`),tn=t=>Zt().then(e=>e.find(n=>n.includes(t))).then(e=>{let[,n]=e?.match(/(\d+)\s+(.*)/)??["","",""];return n}),ke=async(t,e=!1)=>{let n=e?await tn(t):t;n&&await en(n)};var Oe=require("@raycast/api");function F(t){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F(t)}function N(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function p(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function d(t){p(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||F(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function z(t){p(1,arguments);var e=N(t);return d(e*1e3)}var K=(t=0)=>new Promise(e=>setTimeout(e,t)),Pe=t=>{try{let e=JSON.parse(t);if(e&&typeof e=="object")return!0}catch{}return!1},Z=t=>Array.isArray(t)?t.filter(e=>!!e):[];var T=require("@raycast/api"),ee=class{toast;abortable;_abortController;constructor(e){this.abortable=e.abortable,this.toast=T.environment.launchType===T.LaunchType.UserInitiated?new T.Toast(e):void 0,this.updateAbortAction()}updateAbortAction(){this.toast&&(this._abortController=this.abortable?new AbortController:void 0,this.toast.primaryAction=this.abortable?{title:"Cancel",onAction:()=>{console.warn("Aborting..."),this._abortController?.abort()}}:void 0)}updateContent(e){if(this.toast){let{title:n,style:r,message:o,secondaryAction:s}=this.toast;this.toast.title=e.title??n,this.toast.style=e.style??r,this.toast.message=e.message??o,this.abortable=e.abortable??this.abortable,this.toast.secondaryAction=e.secondaryAction??s,this.updateAbortAction()}}show(){return this.toast?this.toast.show():Promise.resolve()}hide(){return this.toast?this.toast.hide():Promise.resolve()}get abortController(){return this._abortController}},G=async t=>{let e=new ee(t);return await e.show(),e};var Le=I(require("os"),1);var{username:rn}=Le.default.userInfo(),on=(t,e)=>w(`security find-generic-password -a ${t} -s '${e}' -w`).then(({stdout:n})=>n.trim()).catch(n=>{throw console.error("Failed to get password: ",n),new Error(S(n))}),Fe=()=>on(rn,"amzn_pin");var ze=require("@raycast/api");var an=t=>t==null?"":String(t),Ce=t=>t instanceof Error?t.message:an(t);var sn=require("@raycast/api");var Ue=I(require("os")),{username:ln}=Ue.default.userInfo(),je=(t,e)=>w(`rsync -r -e "ssh -o StrictHostKeyChecking=no" ${e} ${t}:/home/${ln}`),qe=t=>je(t,'$HOME/.midway --include="cookie" --include="*/" --exclude="*"').then(()=>!0).catch(()=>!1),_e=t=>je(t,'$HOME/.ssh --include="id_*" --include="*/" --exclude="*"').then(()=>!0).catch(()=>!1);var et=require("@raycast/api");var mn={};function Ge(){return mn}function R(t,e){p(2,arguments);var n=d(t),r=d(e),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}function te(t,e){p(2,arguments);var n=d(t),r=d(e),o=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return o*12+s}function ne(t){p(1,arguments);var e=d(t);return e.setHours(23,59,59,999),e}function re(t){p(1,arguments);var e=d(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function oe(t){p(1,arguments);var e=d(t);return ne(e).getTime()===re(e).getTime()}function ae(t,e){p(2,arguments);var n=d(t),r=d(e),o=R(n,r),s=Math.abs(te(n,r)),c;if(s<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*s);var u=R(n,r)===-o;oe(d(t))&&s===1&&R(t,r)===1&&(u=!1),c=o*(s-Number(u))}return c===0?0:c}function ie(t,e){return p(2,arguments),d(t).getTime()-d(e).getTime()}var He={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},un="trunc";function We(t){return t?He[t]:He[un]}function se(t,e,n){p(2,arguments);var r=ie(t,e)/1e3;return We(n?.roundingMethod)(r)}var dn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pn=function(e,n,r){var o,s=dn[e];return typeof s=="string"?o=s:n===1?o=s.one:o=s.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o},Xe=pn;function U(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var fn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gn={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yn={date:U({formats:fn,defaultWidth:"full"}),time:U({formats:hn,defaultWidth:"full"}),dateTime:U({formats:gn,defaultWidth:"full"})},Ve=yn;var wn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vn=function(e,n,r,o){return wn[e]},Be=vn;function M(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&t.formattingValues){var s=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):s;o=t.formattingValues[c]||t.formattingValues[s]}else{var u=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;o=t.values[l]||t.values[u]}var f=t.argumentCallback?t.argumentCallback(e):e;return o[f]}}var En={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},In={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$n={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},An={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sn=function(e,n){var r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Tn={ordinalNumber:Sn,era:M({values:En,defaultWidth:"wide"}),quarter:M({values:bn,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:M({values:xn,defaultWidth:"wide"}),day:M({values:In,defaultWidth:"wide"}),dayPeriod:M({values:$n,defaultWidth:"wide",formattingValues:An,defaultFormattingWidth:"wide"})},Je=Tn;function D(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(o);if(!s)return null;var c=s[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(u)?Rn(u,function(g){return g.test(c)}):Nn(u,function(g){return g.test(c)}),f;f=t.valueCallback?t.valueCallback(l):l,f=n.valueCallback?n.valueCallback(f):f;var h=e.slice(c.length);return{value:f,rest:h}}}function Nn(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Rn(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function ce(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var o=r[0],s=e.match(t.parsePattern);if(!s)return null;var c=t.valueCallback?t.valueCallback(s[0]):s[0];c=n.valueCallback?n.valueCallback(c):c;var u=e.slice(o.length);return{value:c,rest:u}}}var Mn=/^(\d+)(th|st|nd|rd)?/i,Dn=/\d+/i,Cn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kn={any:[/^b/i,/^(a|c)/i]},On={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Pn={any:[/1/i,/2/i,/3/i,/4/i]},Ln={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zn={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Un={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_n={ordinalNumber:ce({matchPattern:Mn,parsePattern:Dn,valueCallback:function(e){return parseInt(e,10)}}),era:D({matchPatterns:Cn,defaultMatchWidth:"wide",parsePatterns:kn,defaultParseWidth:"any"}),quarter:D({matchPatterns:On,defaultMatchWidth:"wide",parsePatterns:Pn,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:D({matchPatterns:Ln,defaultMatchWidth:"wide",parsePatterns:Fn,defaultParseWidth:"any"}),day:D({matchPatterns:zn,defaultMatchWidth:"wide",parsePatterns:Un,defaultParseWidth:"any"}),dayPeriod:D({matchPatterns:jn,defaultMatchWidth:"any",parsePatterns:qn,defaultParseWidth:"any"})},Ye=_n;var Gn={code:"en-US",formatDistance:Xe,formatLong:Ve,formatRelative:Be,localize:Je,match:Ye,options:{weekStartsOn:0,firstWeekContainsDate:1}},Qe=Gn;var Ke=Qe;function j(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function le(t){return j({},t)}function H(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var Ze=1440,Hn=2520,me=43200,Wn=86400;function ue(t,e,n){var r,o;p(2,arguments);var s=Ge(),c=(r=(o=n?.locale)!==null&&o!==void 0?o:s.locale)!==null&&r!==void 0?r:Ke;if(!c.formatDistance)throw new RangeError("locale must contain formatDistance property");var u=R(t,e);if(isNaN(u))throw new RangeError("Invalid time value");var l=j(le(n),{addSuffix:!!n?.addSuffix,comparison:u}),f,h;u>0?(f=d(e),h=d(t)):(f=d(t),h=d(e));var g=se(h,f),P=(H(h)-H(f))/1e3,y=Math.round((g-P)/60),$;if(y<2)return n!=null&&n.includeSeconds?g<5?c.formatDistance("lessThanXSeconds",5,l):g<10?c.formatDistance("lessThanXSeconds",10,l):g<20?c.formatDistance("lessThanXSeconds",20,l):g<40?c.formatDistance("halfAMinute",0,l):g<60?c.formatDistance("lessThanXMinutes",1,l):c.formatDistance("xMinutes",1,l):y===0?c.formatDistance("lessThanXMinutes",1,l):c.formatDistance("xMinutes",y,l);if(y<45)return c.formatDistance("xMinutes",y,l);if(y<90)return c.formatDistance("aboutXHours",1,l);if(y<Ze){var Y=Math.round(y/60);return c.formatDistance("aboutXHours",Y,l)}else{if(y<Hn)return c.formatDistance("xDays",1,l);if(y<me){var L=Math.round(y/Ze);return c.formatDistance("xDays",L,l)}else if(y<Wn)return $=Math.round(y/me),c.formatDistance("aboutXMonths",$,l)}if($=ae(h,f),$<12){var Wt=Math.round(y/me);return c.formatDistance("xMonths",Wt,l)}else{var Ne=$%12,Q=Math.floor($/12);return Ne<3?c.formatDistance("aboutXYears",Q,l):Ne<9?c.formatDistance("overXYears",Q,l):c.formatDistance("almostXYears",Q+1,l)}}function de(t,e){return p(1,arguments),ue(t,Date.now(),e)}function pe(t,e){p(2,arguments);var n=d(t),r=d(e);return n.getTime()<r.getTime()}var C=I(require("fs")),tt=I(require("os")),fe=`${tt.default.homedir()}/.midway/cookie`,he=()=>C.default.existsSync(fe)?C.default.readFileSync(fe,"utf8").split(`
`).map(e=>{if(e.startsWith("#")&&!e.startsWith("#HttpOnly_"))return e;let n=e.split("	");if(n.length!==7)return e;let[r,o,s,c,u,l,f]=n;return{domain:r,includesSubdomains:o,path:s,overHttpsOnly:c,expiresAt:+u,name:l,value:f}}):void 0,nt=async t=>{let e=await Fe(),n=(0,et.getPreferenceValues)(),r=Z([n["-s"]?"-s":void 0,n["--breakglass"]?" --breakglass":void 0]).join(" ");await w(`mwinit ${r} <<'EOF'
${e}
EOF`,{signal:t?.signal})},rt=t=>w("mwinit -d",{signal:t?.signal}),ge=t=>{let e=t?.find(n=>typeof n!="string"&&/#HttpOnly_\.midway-auth\.amazon\.com/.test(n.domain)&&/amazon_enterprise_access/.test(n.name));return e&&typeof e!="string"?e.expiresAt:void 0};var ot=()=>{let t=he(),e=ge(t);return e?de(z(e),{addSuffix:!0}):""},Xn=()=>Promise.all(["/usr/hostidentity/bin/get_aea_jwt --getDataLongLived","/usr/local/amazon/bin/acme_amazon_enterprise_access getAcmeDataLongLived","/usr/hostidentity/bin/get_aea_jwt --getData","/usr/local/amazon/bin/acme_amazon_enterprise_access getAcmeData"].map(t=>w(t).then(({stdout:e})=>JSON.parse(e).Jwt).catch(e=>{console.warn(`Failed to exec ${t}: `,e)}))).then(t=>t.find(e=>!!e)),Vn=(t,e)=>(t%e+e)%e,at=async t=>{let e=await Xn();if(!e)return!1;let[,n]=e.split(".").map(l=>Buffer.from(`${l}${"=".repeat(Vn(l.length,4))}`,"base64").toString()),r=JSON.parse(n).exp;if(!r)return!1;let o=new RegExp(["midway-auth.aws-border.cn","midway-auth-itar.amazon.com","midway-auth.lck.aws-border.com","midway-auth.c2s.ic.gov"].join("|")),s=!1,c=t.map(l=>{if(typeof l=="string")return l;let{domain:f,includesSubdomains:h,path:g,overHttpsOnly:P,expiresAt:y,name:$,value:Y}=l,L=!o.test(f)&&/#HttpOnly_\.(?:midway-auth|auth.midway)/.test(f)&&/amazon_enterprise_access/.test($);return s=s||L,[f,h,g,P,L?r:y,$,L?e:Y].join("	")}).join(`
`);if(!s)return!1;let u=fe;try{C.default.accessSync(u,C.default.constants.W_OK)}catch{C.default.chmodSync(u,420)}return C.default.writeFileSync(u,c),!0};var st=I(require("os"),1);var it=`${st.default.homedir()}/.midway/cookie`,Bn=t=>typeof t=="object"&&t.__type&&t.__type.includes("Exception"),Jn=t=>typeof t=="object"&&t.status&&t.status==="error",Yn=(t,e)=>{let{cookie:n,data:r,args:o=[],headers:s={},method:c,maxBuffer:u,cancel:l}=e,f=[`curl -sSL '${t}'`,`-X ${c??"GET"}`,Object.entries(s).map(([h,g])=>`-H '${h}: ${g}'`),o,r?[`-d '${JSON.stringify(r)}'`]:[],n?[`-b '${Object.entries(n).map(([h,g])=>`${h}=${g}`).join(";")}'`]:[]].flat();return w(f.join(" "),{maxBuffer:u,signal:l?.signal}).then(({stdout:h})=>Pe(h)?JSON.parse(h):h).catch(h=>{throw new Error(S(h))})};var k=(t,e={})=>{let{ignoreCoralError:n=!1,writeToCookieFile:r=!0,args:o=[],...s}=e,c=[o,`--anyauth --location-trusted -k -u : -b ${it}`,r?[`-c ${it}`]:[]].flat();return Yn(t,{...s,args:c}).then(u=>{if(!n&&Bn(u))throw new Error(`${u.__type}${u.message?`: ${u.message}`:""}`);if(Jn(u))throw new Error(`${u.message??"Midway Error"}: ${u.desc??"You should authenticate (may use mwinit)"}`);return u})};var Qn=(t,e)=>k("https://gitfarm-sso.corp.amazon.com",{...e,method:"POST",headers:{"Content-Encoding":"amz-1.0","Content-Type":"application/json; charset=UTF-8","X-Amz-Target":`com.amazon.brazil.gitfarm.service.GitFarmService.${t}`}}),ct=t=>Qn("getReferenceSha1s",{data:{repositoryId:t}}).then(e=>e.references);var W=require("@raycast/api");function X(t,e=!0){let{launchType:n,extensionName:r,commandName:o}=W.environment;return!e||n===W.LaunchType.Background?Promise.resolve():k("https://analytics.raycast.tools.aws.dev/v2/stats",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},data:{commandName:o,extensionVersion:t,extensionName:r}}).catch(s=>console.warn(`Failed to publish stats for ${r}/${o}.`,s))}var b=require("@raycast/api");function ye(t,e){p(2,arguments);var n=d(t).getTime(),r=N(e);return new Date(n+r)}var Kn=6e4;function we(t,e){p(2,arguments);var n=N(e);return ye(t,n*Kn)}var Mr=I(St(),1),Se=I(Mt(),1),Dr=I(Ct(),1),Cr=I(Ae(),1),Lt=I(Pt(),1);var Ft=t=>ct(`pkg/${t}`).then(e=>e.map(n=>(n.name.match(/refs\/tags\/(.*)/)??["",""])[1]).filter(n=>(0,Lt.default)(n))).then(e=>e.length===0?void 0:e.reduce((n,r)=>(0,Se.default)(r,n)?r:n,e[0])).catch(e=>{console.warn(`Failed to get the latest extension version for ${t}.`,e)}),zt=async t=>{let{launchType:e,extensionName:n}=b.environment,{updateCommandName:r,changelogCommandName:o,currentVersion:s,pkg:c,extensionOwner:u}=t,l=await Ft(c);if(e===b.LaunchType.UserInitiated&&l&&(0,Se.default)(l,s)){let f={type:b.LaunchType.UserInitiated,extensionName:n,ownerOrAuthorName:u};await(0,b.showToast)({style:b.Toast.Style.Success,title:`\u2728 New version (${l}) now available!`,message:`Upgrade from current version (${s}) for the latest features and improvements.`,primaryAction:{title:"Update Extension",onAction:()=>(0,b.launchCommand)({name:r??"update-extension",...f})},secondaryAction:{title:"Changelog",onAction:()=>(0,b.launchCommand)({name:o??"extension-changelog",...f})}})}};var q=require("@raycast/api");var Or=I(Ae());var jt="1.17.9";var qt="zhenpewu";var Te=jt,Pr="AmznRaycastExtension";var _t=()=>zt({pkg:Pr,currentVersion:Te,extensionOwner:qt});var Lr=()=>X(Te,!0),Gt=Lr;var x=require("@raycast/api");async function Ht(){let t=he(),e=ge(t),n=e?z(e):void 0,r;if(x.environment.launchType===x.LaunchType.UserInitiated){let o=await G({style:x.Toast.Style.Animated,title:"Deleting old midway cookie...",abortable:!0});try{await rt(o.abortController),o.updateContent({title:"Press the security key while it is blinking.",abortable:!0}),await nt(o.abortController);let s=[],c,u=(0,x.getPreferenceValues)(),l=u["cloud-desktop-host"];l&&(s.push(qe(l)),s.push(_e(l)),c="midway cookie and SSH certificate synchronization");let f=u["kill-exchangesyncd"];f&&(s.push(ke("exchangesyncd",!0).then(()=>!0).catch(()=>!1)),c+=`${c?", and ":""}kill exchangesyncd`),(l||f)&&(s.push(K(500).then(()=>!0)),o.updateContent({style:x.Toast.Style.Animated,title:`Executing ${c}...`}),c=`${await Promise.all(s).then(g=>g.every(P=>P))?"\u2705 Executed":"\u26A0\uFE0F Failed to execute"} ${c}.`),await K(500),o.updateContent({style:x.Toast.Style.Success,title:"Successfully authenticated via midway U2F.",message:c,abortable:!1}),r=!0}catch(s){o.updateContent({style:x.Toast.Style.Failure,title:"Failed to authenticate.",message:S(s),abortable:!1}),r=!1}}else n&&pe(we(new Date,15),n)?r=!0:r=t?await at(t):!1;await _t(),await Gt(),(0,x.updateCommandMetadata)({subtitle:r?`\u{1F60E}  ${ot()}`:"\u{1F480}"})}
