"use strict";var Ct=Object.create;var H=Object.defineProperty;var Ft=Object.getOwnPropertyDescriptor;var Mt=Object.getOwnPropertyNames;var Ut=Object.getPrototypeOf,jt=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),zt=(t,e)=>{for(var r in e)H(t,r,{get:e[r],enumerable:!0})},we=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Mt(e))!jt.call(t,i)&&i!==r&&H(t,i,{get:()=>e[i],enumerable:!(n=Ft(e,i))||n.enumerable});return t};var $=(t,e,r)=>(r=t!=null?Ct(Ut(t)):{},we(e||!t||!t.__esModule?H(r,"default",{value:t,enumerable:!0}):r,t)),Gt=t=>we(H({},"__esModule",{value:!0}),t);var Se=y((N,Ae)=>{"use strict";var ee=require("crypto");N=Ae.exports=U;function U(t,e){return e=xe(t,e),qt(t,e)}N.sha1=function(t){return U(t)};N.keys=function(t){return U(t,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})};N.MD5=function(t){return U(t,{algorithm:"md5",encoding:"hex"})};N.keysMD5=function(t){return U(t,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var P=ee.getHashes?ee.getHashes().slice():["sha1","md5"];P.push("passthrough");var ve=["buffer","hex","binary","base64"];function xe(t,e){e=e||{};var r={};if(r.algorithm=e.algorithm||"sha1",r.encoding=e.encoding||"hex",r.excludeValues=!!e.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=e.ignoreUnknown===!0,r.respectType=e.respectType!==!1,r.respectFunctionNames=e.respectFunctionNames!==!1,r.respectFunctionProperties=e.respectFunctionProperties!==!1,r.unorderedArrays=e.unorderedArrays===!0,r.unorderedSets=e.unorderedSets!==!1,r.unorderedObjects=e.unorderedObjects!==!1,r.replacer=e.replacer||void 0,r.excludeKeys=e.excludeKeys||void 0,typeof t>"u")throw new Error("Object argument required.");for(var n=0;n<P.length;++n)P[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=P[n]);if(P.indexOf(r.algorithm)===-1)throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+P.join(", "));if(ve.indexOf(r.encoding)===-1&&r.algorithm!=="passthrough")throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+ve.join(", "));return r}function be(t){if(typeof t!="function")return!1;var e=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i;return e.exec(Function.prototype.toString.call(t))!=null}function qt(t,e){var r;e.algorithm!=="passthrough"?r=ee.createHash(e.algorithm):r=new $e,typeof r.write>"u"&&(r.write=r.update,r.end=r.update);var n=te(e,r);if(n.dispatch(t),r.update||r.end(""),r.digest)return r.digest(e.encoding==="buffer"?void 0:e.encoding);var i=r.read();return e.encoding==="buffer"?i:i.toString(e.encoding)}N.writeToStream=function(t,e,r){return typeof r>"u"&&(r=e,e={}),e=xe(t,e),te(e,r).dispatch(t)};function te(t,e,r){r=r||[];var n=function(i){return e.update?e.update(i,"utf8"):e.write(i,"utf8")};return{dispatch:function(i){t.replacer&&(i=t.replacer(i));var s=typeof i;return i===null&&(s="null"),this["_"+s](i)},_object:function(i){var s=/\[object (.*)\]/i,m=Object.prototype.toString.call(i),l=s.exec(m);l?l=l[1]:l="unknown:["+m+"]",l=l.toLowerCase();var f=null;if((f=r.indexOf(i))>=0)return this.dispatch("[CIRCULAR:"+f+"]");if(r.push(i),typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(i))return n("buffer:"),n(i);if(l!=="object"&&l!=="function"&&l!=="asyncfunction")if(this["_"+l])this["_"+l](i);else{if(t.ignoreUnknown)return n("["+l+"]");throw new Error('Unknown object type "'+l+'"')}else{var p=Object.keys(i);t.unorderedObjects&&(p=p.sort()),t.respectType!==!1&&!be(i)&&p.splice(0,0,"prototype","__proto__","constructor"),t.excludeKeys&&(p=p.filter(function(g){return!t.excludeKeys(g)})),n("object:"+p.length+":");var d=this;return p.forEach(function(g){d.dispatch(g),n(":"),t.excludeValues||d.dispatch(i[g]),n(",")})}},_array:function(i,s){s=typeof s<"u"?s:t.unorderedArrays!==!1;var m=this;if(n("array:"+i.length+":"),!s||i.length<=1)return i.forEach(function(p){return m.dispatch(p)});var l=[],f=i.map(function(p){var d=new $e,g=r.slice(),R=te(t,d,g);return R.dispatch(p),l=l.concat(g.slice(r.length)),d.read().toString()});return r=r.concat(l),f.sort(),this._array(f,!1)},_date:function(i){return n("date:"+i.toJSON())},_symbol:function(i){return n("symbol:"+i.toString())},_error:function(i){return n("error:"+i.toString())},_boolean:function(i){return n("bool:"+i.toString())},_string:function(i){n("string:"+i.length+":"),n(i.toString())},_function:function(i){n("fn:"),be(i)?this.dispatch("[native]"):this.dispatch(i.toString()),t.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(i.name)),t.respectFunctionProperties&&this._object(i)},_number:function(i){return n("number:"+i.toString())},_xml:function(i){return n("xml:"+i.toString())},_null:function(){return n("Null")},_undefined:function(){return n("Undefined")},_regexp:function(i){return n("regex:"+i.toString())},_uint8array:function(i){return n("uint8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint8clampedarray:function(i){return n("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(i))},_int8array:function(i){return n("int8array:"),this.dispatch(Array.prototype.slice.call(i))},_uint16array:function(i){return n("uint16array:"),this.dispatch(Array.prototype.slice.call(i))},_int16array:function(i){return n("int16array:"),this.dispatch(Array.prototype.slice.call(i))},_uint32array:function(i){return n("uint32array:"),this.dispatch(Array.prototype.slice.call(i))},_int32array:function(i){return n("int32array:"),this.dispatch(Array.prototype.slice.call(i))},_float32array:function(i){return n("float32array:"),this.dispatch(Array.prototype.slice.call(i))},_float64array:function(i){return n("float64array:"),this.dispatch(Array.prototype.slice.call(i))},_arraybuffer:function(i){return n("arraybuffer:"),this.dispatch(new Uint8Array(i))},_url:function(i){return n("url:"+i.toString(),"utf8")},_map:function(i){n("map:");var s=Array.from(i);return this._array(s,t.unorderedSets!==!1)},_set:function(i){n("set:");var s=Array.from(i);return this._array(s,t.unorderedSets!==!1)},_file:function(i){return n("file:"),this.dispatch([i.name,i.size,i.type,i.lastModfied])},_blob:function(){if(t.ignoreUnknown)return n("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return n("domwindow")},_bigint:function(i){return n("bigint:"+i.toString())},_process:function(){return n("process")},_timer:function(){return n("timer")},_pipe:function(){return n("pipe")},_tcp:function(){return n("tcp")},_udp:function(){return n("udp")},_tty:function(){return n("tty")},_statwatcher:function(){return n("statwatcher")},_securecontext:function(){return n("securecontext")},_connection:function(){return n("connection")},_zlib:function(){return n("zlib")},_context:function(){return n("context")},_nodescript:function(){return n("nodescript")},_httpparser:function(){return n("httpparser")},_dataview:function(){return n("dataview")},_signal:function(){return n("signal")},_fsevent:function(){return n("fsevent")},_tlswrap:function(){return n("tlswrap")}}}function $e(){return{buf:"",write:function(t){this.buf+=t},end:function(t){this.buf+=t},read:function(){return this.buf}}}});var ie=y((ci,Ve)=>{var nr=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ve.exports=nr});var oe=y((li,Be)=>{var ir="2.0.0",or=Number.MAX_SAFE_INTEGER||9007199254740991,ar=16,sr=256-6,cr=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Be.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ar,MAX_SAFE_BUILD_LENGTH:sr,MAX_SAFE_INTEGER:or,RELEASE_TYPES:cr,SEMVER_SPEC_VERSION:ir,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var We=y((A,Xe)=>{var{MAX_SAFE_COMPONENT_LENGTH:ae,MAX_SAFE_BUILD_LENGTH:lr,MAX_LENGTH:ur}=oe(),pr=ie();A=Xe.exports={};var dr=A.re=[],fr=A.safeRe=[],o=A.src=[],a=A.t={},mr=0,se="[a-zA-Z0-9-]",hr=[["\\s",1],["\\d",ur],[se,lr]],gr=t=>{for(let[e,r]of hr)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},u=(t,e,r)=>{let n=gr(e),i=mr++;pr(t,i,e),a[t]=i,o[i]=e,dr[i]=new RegExp(e,r?"g":void 0),fr[i]=new RegExp(n,r?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*");u("NUMERICIDENTIFIERLOOSE","\\d+");u("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${se}*`);u("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})\\.(${o[a.NUMERICIDENTIFIER]})`);u("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})\\.(${o[a.NUMERICIDENTIFIERLOOSE]})`);u("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`);u("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`);u("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`);u("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`);u("BUILDIDENTIFIER",`${se}+`);u("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`);u("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`);u("FULL",`^${o[a.FULLPLAIN]}$`);u("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`);u("LOOSE",`^${o[a.LOOSEPLAIN]}$`);u("GTLT","((?:<|>)?=?)");u("XRANGEIDENTIFIERLOOSE",`${o[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);u("XRANGEIDENTIFIER",`${o[a.NUMERICIDENTIFIER]}|x|X|\\*`);u("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:\\.(${o[a.XRANGEIDENTIFIER]})(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?)?)?`);u("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?)?)?`);u("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`);u("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`);u("COERCE",`(^|[^\\d])(\\d{1,${ae}})(?:\\.(\\d{1,${ae}}))?(?:\\.(\\d{1,${ae}}))?(?:$|[^\\d])`);u("COERCERTL",o[a.COERCE],!0);u("LONETILDE","(?:~>?)");u("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,!0);A.tildeTrimReplace="$1~";u("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`);u("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`);u("LONECARET","(?:\\^)");u("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,!0);A.caretTrimReplace="$1^";u("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`);u("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`);u("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`);u("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`);u("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,!0);A.comparatorTrimReplace="$1$2$3";u("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})\\s+-\\s+(${o[a.XRANGEPLAIN]})\\s*$`);u("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[a.XRANGEPLAINLOOSE]})\\s*$`);u("STAR","(<|>)?=?\\s*\\*");u("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");u("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ke=y((ui,Je)=>{var yr=Object.freeze({loose:!0}),Er=Object.freeze({}),wr=t=>t?typeof t!="object"?yr:t:Er;Je.exports=wr});var et=y((pi,Ze)=>{var Ye=/^[0-9]+$/,Qe=(t,e)=>{let r=Ye.test(t),n=Ye.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},vr=(t,e)=>Qe(e,t);Ze.exports={compareIdentifiers:Qe,rcompareIdentifiers:vr}});var ce=y((di,it)=>{var J=ie(),{MAX_LENGTH:tt,MAX_SAFE_INTEGER:K}=oe(),{safeRe:rt,t:nt}=We(),br=Ke(),{compareIdentifiers:C}=et(),E=class{constructor(e,r){if(r=br(r),e instanceof E){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>tt)throw new TypeError(`version is longer than ${tt} characters`);J("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=e.trim().match(r.loose?rt[nt.LOOSE]:rt[nt.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>K||this.major<0)throw new TypeError("Invalid major version");if(this.minor>K||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>K||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<K)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(J("SemVer.compare",this.version,this.options,e),!(e instanceof E)){if(typeof e=="string"&&e===this.version)return 0;e=new E(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof E||(e=new E(e,this.options)),C(this.major,e.major)||C(this.minor,e.minor)||C(this.patch,e.patch)}comparePre(e){if(e instanceof E||(e=new E(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=e.prerelease[r];if(J("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return C(n,i)}while(++r)}compareBuild(e){e instanceof E||(e=new E(e,this.options));let r=0;do{let n=this.build[r],i=e.build[r];if(J("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return C(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),C(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};it.exports=E});var le=y((fi,at)=>{var ot=ce(),xr=(t,e,r=!1)=>{if(t instanceof ot)return t;try{return new ot(t,e)}catch(n){if(!r)return null;throw n}};at.exports=xr});var ct=y((mi,st)=>{var $r=le(),Ar=(t,e)=>{let r=$r(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};st.exports=Ar});var Y=y((hi,ut)=>{var lt=ce(),Sr=(t,e,r)=>new lt(t,r).compare(new lt(e,r));ut.exports=Sr});var dt=y((gi,pt)=>{var Rr=Y(),Ir=(t,e,r)=>Rr(t,e,r)>0;pt.exports=Ir});var mt=y((yi,ft)=>{var Nr=Y(),kr=(t,e,r)=>Nr(t,e,r)<0;ft.exports=kr});var ue=y((Ei,ht)=>{var Tr=Y(),Or=(t,e,r)=>Tr(t,e,r)<=0;ht.exports=Or});var yt=y((wi,gt)=>{var Dr=le(),Lr=(t,e)=>{let r=Dr(t,e);return r?r.version:null};gt.exports=Lr});var Gr={};zt(Gr,{default:()=>Lt});module.exports=Gt(Gr);var Xt=$(Se(),1),ne=require("react");var Ht=require("@raycast/api"),re=require("react");var Re=require("react");function b(t){let e=(0,Re.useRef)(t);return e.current=t,e}var Xr=Symbol("cache without namespace");var k=require("@raycast/api"),x=require("react");var S=require("@raycast/api");var Ie=t=>{let e=t instanceof Error?t?.stack||t?.message||"":String(t);return{title:"Copy Logs",onAction(r){r.hide(),S.Clipboard.copy(e)}}};function Ne(t,e){let r=t instanceof Error?t.message:String(t);return(0,S.showToast)({style:S.Toast.Style.Failure,title:e?.title??"Something went wrong",message:r,primaryAction:e?.primaryAction??Ie(t),secondaryAction:e?.primaryAction?Ie(t):void 0})}var ke=Object.prototype.hasOwnProperty;function V(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&V(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(ke.call(t,r)&&++n&&!ke.call(e,r)||!(r in e)||!V(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}var j=require("react");function Te(t){let e=(0,j.useRef)(t),r=(0,j.useRef)(0);return V(t,e.current)||(e.current=t,r.current+=1),(0,j.useMemo)(()=>e.current,[r.current])}function T(t,e,r){let n=(0,x.useRef)(0),[i,s]=(0,x.useState)({isLoading:!0}),m=b(t),l=b(r?.abortable),f=b(e||[]),p=b(r?.onError),d=b(r?.onData),g=b(r?.onWillExecute),R=b(i.data),F=(0,x.useRef)(),I=(0,x.useCallback)((...q)=>{let v=++n.current;return l.current&&(l.current.current?.abort(),l.current.current=new AbortController),g.current?.(q),s(h=>({...h,isLoading:!0})),Vt(m.current)(...q).then(h=>(v===n.current&&(d.current&&d.current(h),s({data:h,isLoading:!1})),h),h=>(h.name=="AbortError"||v===n.current&&(p.current?p.current(h):(console.error(h),k.environment.launchType!==k.LaunchType.Background&&Ne(h,{title:"Failed to fetch latest data",primaryAction:{title:"Retry",onAction(M){M.hide(),F.current?.(...f.current||[])}}})),s({error:h,isLoading:!1})),h))},[l,d,p,f,m,s,F,g]);F.current=I;let D=(0,x.useCallback)(()=>I(...f.current||[]),[I,f]),Pt=(0,x.useCallback)(async(q,v)=>{let h;try{if(v?.optimisticUpdate){typeof v?.rollbackOnError!="function"&&v?.rollbackOnError!==!1&&(h=structuredClone(R.current?.value));let M=v.optimisticUpdate;s(L=>({...L,data:M(L.data)}))}return await q}catch(M){if(typeof v?.rollbackOnError=="function"){let L=v.rollbackOnError;s(Ee=>({...Ee,data:L(Ee.data)}))}else v?.optimisticUpdate&&v?.rollbackOnError!==!1&&s(L=>({...L,data:h}));throw M}finally{v?.shouldRevalidateAfter!==!1&&(k.environment.launchType===k.LaunchType.Background||k.environment.commandMode==="menu-bar"?await D():D())}},[D,R,s]);(0,x.useEffect)(()=>{r?.execute!==!1?I(...e||[]):l.current&&l.current.current?.abort()},[Te([e,r?.execute,I]),l]),(0,x.useEffect)(()=>()=>{l.current&&l.current.current?.abort()},[l]);let _t=r?.execute!==!1?i.isLoading:!1;return{...{...i,isLoading:_t},revalidate:D,mutate:Pt}}function Vt(t){return t===Promise.all||t===Promise.race||t===Promise.resolve||t===Promise.reject?t.bind(Promise):t}var sn=Symbol();var B=require("react");var Oe;(function(t){t.Required="required"})(Oe||(Oe={}));var De=require("react");var Wt=10,Jt=24*60*60*1e3,fn=Math.log(2)/(Wt*Jt);var ze=$(require("os"),1);var Le=t=>{try{let e=JSON.parse(t);if(e&&typeof e=="object")return!0}catch{}return!1};var Me=require("child_process"),Ue=require("util");var Pe=require("@raycast/api");var _e=$(require("os"),1);var{username:Tn}=_e.default.userInfo();var Ce=require("@raycast/api");var Yt=t=>t==null?"":String(t),Fe=t=>t instanceof Error?t.message:Yt(t);var Qt=require("@raycast/api");var _=(0,Ue.promisify)(Me.exec),z=t=>typeof t=="object"&&"stderr"in t?t.stderr:Fe(t);var je=`${ze.default.homedir()}/.midway/cookie`,er=t=>typeof t=="object"&&t.__type&&t.__type.includes("Exception"),tr=t=>typeof t=="object"&&t.status&&t.status==="error",rr=(t,e)=>{let{cookie:r,data:n,args:i=[],headers:s={},method:m,maxBuffer:l,cancel:f}=e,p=[`curl -sSL '${t}'`,`-X ${m??"GET"}`,Object.entries(s).map(([d,g])=>`-H '${d}: ${g}'`),i,n?[`-d '${JSON.stringify(n)}'`]:[],r?[`-b '${Object.entries(r).map(([d,g])=>`${d}=${g}`).join(";")}'`]:[]].flat();return _(p.join(" "),{maxBuffer:l,signal:f?.signal}).then(({stdout:d})=>Le(d)?JSON.parse(d):d).catch(d=>{throw new Error(z(d))})};var O=(t,e={})=>{let{ignoreCoralError:r=!1,writeToCookieFile:n=!0,args:i=[],...s}=e,m=[i,`--anyauth --location-trusted -k -u : -b ${je}`,n?[`-c ${je}`]:[]].flat();return rr(t,{...s,args:m}).then(l=>{if(!r&&er(l))throw new Error(`${l.__type}${l.message?`: ${l.message}`:""}`);if(tr(l))throw new Error(`${l.message??"Midway Error"}: ${l.desc??"You should authenticate (may use mwinit)"}`);return l})};var Ge=(t,e)=>O("https://gitfarm-sso.corp.amazon.com",{...e,method:"POST",headers:{"Content-Encoding":"amz-1.0","Content-Type":"application/json; charset=UTF-8","X-Amz-Target":`com.amazon.brazil.gitfarm.service.GitFarmService.${t}`}}),qe=t=>Ge("getReferenceSha1s",{data:{repositoryId:t}}).then(e=>e.references),He=(t,e)=>Ge("getBlob",{data:{repositoryId:t,object:e}});var X=require("@raycast/api");function W(t,e=!0){let{launchType:r,extensionName:n,commandName:i}=X.environment;return!e||r===X.LaunchType.Background?Promise.resolve():O("https://analytics.raycast.tools.aws.dev/v2/stats",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},data:{commandName:i,extensionVersion:t,extensionName:n}}).catch(s=>console.warn(`Failed to publish stats for ${n}/${i}.`,s))}var w=require("@raycast/api");var Et=$(ct(),1),pe=$(dt(),1),_r=$(mt(),1),Cr=$(ue(),1),wt=$(yt(),1);var vt=t=>qe(`pkg/${t}`).then(e=>e.map(r=>(r.name.match(/refs\/tags\/(.*)/)??["",""])[1]).filter(r=>(0,wt.default)(r))).then(e=>e.length===0?void 0:e.reduce((r,n)=>(0,pe.default)(n,r)?n:r,e[0])).catch(e=>{console.warn(`Failed to get the latest extension version for ${t}.`,e)}),bt=async t=>{let{launchType:e,extensionName:r}=w.environment,{updateCommandName:n,changelogCommandName:i,currentVersion:s,pkg:m,extensionOwner:l}=t,f=await vt(m);if(e===w.LaunchType.UserInitiated&&f&&(0,pe.default)(f,s)){let p={type:w.LaunchType.UserInitiated,extensionName:r,ownerOrAuthorName:l};await(0,w.showToast)({style:w.Toast.Style.Success,title:`\u2728 New version (${f}) now available!`,message:`Upgrade from current version (${s}) for the latest features and improvements.`,primaryAction:{title:"Update Extension",onAction:()=>(0,w.launchCommand)({name:n??"update-extension",...p})},secondaryAction:{title:"Changelog",onAction:()=>(0,w.launchCommand)({name:i??"extension-changelog",...p})}})}},xt=async t=>{let{pkgName:e,changelogPath:r,limit:n=200}=t,i=await He(`pkg/${e}`,`mainline:${r}`),s=Buffer.from(i.content,"base64").toString().split(`
`),m=s.map((p,d)=>p.match(/(?:^|\n)## (.*)/)?d:-1).filter(p=>p!==-1),l=m.length,f=[];for(let p=0;p<l;p++){let d=m[p],R=s[d].match(/##\s+\[(.+)\]\(.+\)\s+\((.+)\)/);if(!R)continue;let[,F,I]=R,D=s.slice(d,p===l-1?s.length:m[p+1]).join(`
`).replace(/(?:^|\n)## (.*)/g,`## \u{1F680} $1
---`).replace(/### Features/g,"### \u2728 New").replace(/### Bug Fixes/g,"### \u{1F41E} Fixes").replace(/### Reverts/g,"### \u23EA Reverts").replace(/### Performance Improvements/g,"### \u{1F48E} Improvements");f.push({version:`v${(0,Et.default)(F)}`,releaseDate:new Date(I),markdown:D})}return f.slice(0,Math.min(n,200))};var G=require("@raycast/api");var Mr=$(ue());var At="1.17.9";var St="zhenpewu";var de=At,Rt="AmznRaycastExtension";var It=()=>bt({pkg:Rt,currentVersion:de,extensionOwner:St}),Nt=()=>xt({pkgName:Rt,changelogPath:"CHANGELOG.md",limit:50});function fe(){T(It,[])}var Ur=()=>W(de,!0),kt=Ur;function me(){T(kt,[])}var Q=require("@raycast/api");var Tt=require("@raycast/api"),Ot=(s=>(s.Bronze="#CD7F32",s.Gold="#FFD700",s.LightSilver="#D8D8D8",s.Orange="#F19F39",s.Rurikon="#0B346E",s))(Ot||{}),jr={...Tt.Color,...Ot},he=jr;var ge=require("@raycast/api"),Dt=(c=>(c.Amazon="amazon.svg",c.AmazonChime="amazon-chime.svg",c.Badge="badge.svg",c.Book="book.svg",c.BoxArchive="box-archive.svg",c.Broadcast="broadcast.svg",c.BuilderHub="builder-hub.svg",c.BuildingColumns="building-columns.svg",c.CheckSquare="check-square.svg",c.ClappingHands="clapping-hands.svg",c.Cube="cube.svg",c.Cubes="cubes.svg",c.Document="document.svg",c.Earth="earth.svg",c.EverGeen="ever-green.svg",c.Firefox="firefox.svg",c.InternalSearch="internal-search.svg",c.Isengard="isengard.svg",c.Issue="issue.svg",c.IT="it.svg",c.PaperPlane="paper-plane.svg",c.Pipeline="pipeline.svg",c.PipelineDisabled="pipeline-disabled.svg",c.PriorityHigh="priority-high.svg",c.PriorityLow="priority-low.svg",c.PriorityMedium="priority-medium.svg",c.Quip="quip.svg",c.Sage="sage.svg",c.SavedSearch="saved-search.svg",c.Siren="siren.svg",c.Slack="slack.svg",c.Slides="slides.svg",c.Spinner="spinner.svg",c.Spreadsheet="spreadsheet.svg",c.Sprint="sprint.svg",c.SquareFive="five.svg",c.SquareFour="four.svg",c.SquareOne="one.svg",c.SquareThree="three.svg",c.SquareTwo="two.svg",c[c.Story=ge.Icon.Book]="Story",c.TaskeiRoom="taskei-room.svg",c.TaskeiSubtask="taskei-subtask.svg",c.TaskeiTask="taskei-task.svg",c.ThumbsUp="thumbs-up.svg",c.Ticket="ticket.svg",c.Wiki="wiki.svg",c))(Dt||{}),zr={...ge.Icon,...Dt},ye=zr;var Z=require("react/jsx-runtime");function Lt(){let{isLoading:t,data:e}=T(Nt,[]);return me(),fe(),(0,Z.jsx)(Q.List,{isLoading:t,throttle:!0,isShowingDetail:!0,children:e?.map((r,n)=>{let i=n===0?he.Green:he.SecondaryText;return(0,Z.jsx)(Q.List.Item,{icon:{source:ye.Tag,tintColor:i},title:r.version,accessories:[{icon:ye.Calendar,tag:{value:r.releaseDate,color:i}}],detail:(0,Z.jsx)(Q.List.Item.Detail,{markdown:r.markdown})},r.version)})})}
