"use strict";var et=Object.create;var T=Object.defineProperty;var tt=Object.getOwnPropertyDescriptor;var nt=Object.getOwnPropertyNames;var rt=Object.getPrototypeOf,ot=Object.prototype.hasOwnProperty;var l=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),st=(t,e)=>{for(var n in e)T(t,n,{get:e[n],enumerable:!0})},ee=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of nt(e))!ot.call(t,o)&&o!==n&&T(t,o,{get:()=>e[o],enumerable:!(r=tt(e,o))||r.enumerable});return t};var h=(t,e,n)=>(n=t!=null?et(rt(t)):{},ee(e||!t||!t.__esModule?T(n,"default",{value:t,enumerable:!0}):n,t)),it=t=>ee(T({},"__esModule",{value:!0}),t);var se=l(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.decryptCustomerId=I.encryptCustomerId=void 0;var re=[2053205313,1663987311,1109421423,1936420719],_=2654435769,at=Math.pow(2,43),te=15,ct=0xffffffffffffffffn,lt=0x10000n,O=0x100000n,w=0x100000000n,pt=0xc2f93n;function dt(t,e){let n=Number(t[0]),r=Number(t[1]),o=0;for(let a=0;a<32;a++)o+=_,n+=(r<<4)+e[0]^r+o^(r>>>5)+e[1],n>>>=0,r+=(n<<4)+e[2]^n+o^(n>>>5)+e[3],r>>>=0;return[BigInt(n),BigInt(r)]}function mt(t,e){let n=Number(t[0]),r=Number(t[1]),o=_<<5;for(let a=0;a<32;a++)r-=(n<<4)+e[2]^n+o^(n>>>5)+e[3],r>>>=0,n-=(r<<4)+e[0]^r+o^(r>>>5)+e[1],n>>>=0,o-=_;return[BigInt(n),BigInt(r)]}function ne(t){let[e,n]=dt([t%w,t/w],re);return(e+n*w).toString(36)}function ut(t){let[e,n]=mt([t%w,t/w],re);return e+n*w}function oe(t){let e=t,n=e%O;for(let r=0;r<3;r++)e=e/lt,n=n+e%O;return(n^pt)&O-1n}function ht(t,e){return Array.from(t).reduce((n,r)=>n*BigInt(e)+BigInt(parseInt(r,e)),0n)}function ft(t){if(t==null||typeof t=="string"&&t.length===0)throw new Error(`Cannot encrypt null or empty ID: ${t}`);let e=BigInt(t);if(e<1n||e>ct)throw new Error(`ID out of bounds: ${t}`);let n=oe(e);return"A"+(e<at?ne((e<<20n)+n):String(n).padStart(7,"0")+ne(e)).toUpperCase()}I.encryptCustomerId=ft;function gt(t){if(t==null||t.length===0)throw new Error(`Cannot decrypt null or empty ID: ${t}`);let e=ut(ht(t.slice(t.length<te?1:8),36)),n,r;if(t.length<te?(n=e&O-1n,r=e>>20n):(n=BigInt(t.slice(1,8)),r=e),oe(r)!==n)throw new Error(`Unexpected checksum decrypting ID: ${t}`);return String(r)}I.decryptCustomerId=gt});var ie=l($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.decryptShipmentId=$.encryptShipmentId=void 0;var yt=4839182330,Et=0x4f027a359ffff,wt="PqnpRxJrdsGL0fCYlHcTzh6Q9WwZbtV2MBg8D71jmk3Fy4N5SvXK",It="RNkbH49BwyYDF2VzvcQsL7r1MJ3xnTPtGd6S0lmKWpCX8g5qZjfh",$t="DUTMXGQBPNLFWERHAKZCVYJIOS",xt="qwertyuadfghxcvb",bt=[0,8,6,4,2,7,5,3,1],D=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,12,38,31,42,45,47,22,37,35,24,-1,-1,-1,-1,-1,-1,-1,-1,33,14,36,-1,43,10,17,-1,6,51,11,32,46,-1,0,23,4,48,19,-1,30,25,50,15,27,-1,-1,-1,-1,-1,-1,-1,28,18,8,-1,13,34,21,-1,39,41,16,40,2,-1,3,1,7,9,29,-1,49,26,5,44,20],L=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,23,13,26,5,46,34,21,44,6,-1,-1,-1,-1,-1,-1,-1,-1,7,42,11,-1,12,32,4,-1,25,39,20,24,1,-1,30,18,0,35,29,-1,14,40,43,10,48,-1,-1,-1,-1,-1,-1,-1,3,17,33,-1,50,45,51,-1,49,2,37,38,28,-1,41,47,22,19,31,-1,16,8,27,9,15],vt=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,16,7,19,0,13,11,5,15,23,22,17,10,3,9,24,8,6,14,25,2,1,20,12,4,21,18,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],At=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,15,13,8,2,9,10,11,-1,-1,-1,-1,-1,-1,-1,-1,0,3,-1,4,6,14,1,12,5],Rt=[vt,L,D,L,D,L,D,L,D];function Nt(t){let e=[],n=t,r=0,o="";for(;n>0;)e.push(n&15),n=Math.floor(n/16);for(let a=0;a<e.length;a+=2)o+=xt[e[a]];for(let a=e.length-1-e.length%2;a>0;a-=2)r<<=4,r|=e[a];return`${o}${r}`}function St(t){let e=[],n=t,r;for(let o=0;o<8;o++){let a=o<4?o*2+1:(o-3)*2;r=n%52,n=Math.floor(n/52),e[a]=o%2===0?wt[r]:It[r]}return $t[n]+e.join("")}function Ct(t){if(!/^[qwertyuadfghxcvb]+[0-9]+$/.test(t))throw new Error(`Cannot decrypt ID: ${t}`);let e=[],n=0;for(let a=0;a<t.length&&!/^[0-9]$/.test(t[a]);a++)e[a*2]=At[t.charCodeAt(a)];let r=t.match(/\d+/);if(r==null)throw new Error(`Cannot decrypt ID: ${t}`);let o=Number(r[0]);for(let a=1;o>0;a+=2)e[a]=o&15,o>>=4;for(let a=e.length-1;a>=0;a--)n*=16,n+=e[a]|0;return String(n)}function Tt(t){if(!/^[a-z][0-9bcdfghjklmnpqrstvwxyz]{8}$/i.test(t))throw new Error(`Cannot decrypt ID: ${t}`);let e=0;for(let n=0;n<t.length;n++)e*=52,e+=Rt[n][t[bt[n]].charCodeAt(0)];return String(e)}function Ot(t){if(t==null||typeof t=="string"&&t.length===0)throw new Error(`Cannot encrypt null or empty ID: ${t}`);let e=Number(t);if(e<1||e>Et)throw new Error(`ID out of bounds: ${t}`);return e<=yt?Nt(e):St(e)}$.encryptShipmentId=Ot;function Dt(t){if(t==null||t.length===0)throw new Error(`Cannot decrypt null or empty ID: ${t}`);return/^[a-z]$/.test(t[0])?Ct(t):Tt(t)}$.decryptShipmentId=Dt});var ce=l(g=>{"use strict";var Lt=g&&g.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,o)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ae=g&&g.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Lt(e,t,n)};Object.defineProperty(g,"__esModule",{value:!0});ae(se(),g);ae(ie(),g)});var X=l((yr,Ee)=>{var qt=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Ee.exports=qt});var B=l((Er,we)=>{var _t="2.0.0",Ht=Number.MAX_SAFE_INTEGER||9007199254740991,Xt=16,Bt=256-6,Vt=["major","premajor","minor","preminor","patch","prepatch","prerelease"];we.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Xt,MAX_SAFE_BUILD_LENGTH:Bt,MAX_SAFE_INTEGER:Ht,RELEASE_TYPES:Vt,SEMVER_SPEC_VERSION:_t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var $e=l((f,Ie)=>{var{MAX_SAFE_COMPONENT_LENGTH:V,MAX_SAFE_BUILD_LENGTH:Wt,MAX_LENGTH:Jt}=B(),Qt=X();f=Ie.exports={};var Yt=f.re=[],Zt=f.safeRe=[],s=f.src=[],i=f.t={},Kt=0,W="[a-zA-Z0-9-]",en=[["\\s",1],["\\d",Jt],[W,Wt]],tn=t=>{for(let[e,n]of en)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},c=(t,e,n)=>{let r=tn(e),o=Kt++;Qt(t,o,e),i[t]=o,s[o]=e,Yt[o]=new RegExp(e,n?"g":void 0),Zt[o]=new RegExp(r,n?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*");c("NUMERICIDENTIFIERLOOSE","\\d+");c("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${W}*`);c("MAINVERSION",`(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})\\.(${s[i.NUMERICIDENTIFIER]})`);c("MAINVERSIONLOOSE",`(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})\\.(${s[i.NUMERICIDENTIFIERLOOSE]})`);c("PRERELEASEIDENTIFIER",`(?:${s[i.NUMERICIDENTIFIER]}|${s[i.NONNUMERICIDENTIFIER]})`);c("PRERELEASEIDENTIFIERLOOSE",`(?:${s[i.NUMERICIDENTIFIERLOOSE]}|${s[i.NONNUMERICIDENTIFIER]})`);c("PRERELEASE",`(?:-(${s[i.PRERELEASEIDENTIFIER]}(?:\\.${s[i.PRERELEASEIDENTIFIER]})*))`);c("PRERELEASELOOSE",`(?:-?(${s[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[i.PRERELEASEIDENTIFIERLOOSE]})*))`);c("BUILDIDENTIFIER",`${W}+`);c("BUILD",`(?:\\+(${s[i.BUILDIDENTIFIER]}(?:\\.${s[i.BUILDIDENTIFIER]})*))`);c("FULLPLAIN",`v?${s[i.MAINVERSION]}${s[i.PRERELEASE]}?${s[i.BUILD]}?`);c("FULL",`^${s[i.FULLPLAIN]}$`);c("LOOSEPLAIN",`[v=\\s]*${s[i.MAINVERSIONLOOSE]}${s[i.PRERELEASELOOSE]}?${s[i.BUILD]}?`);c("LOOSE",`^${s[i.LOOSEPLAIN]}$`);c("GTLT","((?:<|>)?=?)");c("XRANGEIDENTIFIERLOOSE",`${s[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);c("XRANGEIDENTIFIER",`${s[i.NUMERICIDENTIFIER]}|x|X|\\*`);c("XRANGEPLAIN",`[v=\\s]*(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:\\.(${s[i.XRANGEIDENTIFIER]})(?:${s[i.PRERELEASE]})?${s[i.BUILD]}?)?)?`);c("XRANGEPLAINLOOSE",`[v=\\s]*(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})(?:${s[i.PRERELEASELOOSE]})?${s[i.BUILD]}?)?)?`);c("XRANGE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAIN]}$`);c("XRANGELOOSE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAINLOOSE]}$`);c("COERCE",`(^|[^\\d])(\\d{1,${V}})(?:\\.(\\d{1,${V}}))?(?:\\.(\\d{1,${V}}))?(?:$|[^\\d])`);c("COERCERTL",s[i.COERCE],!0);c("LONETILDE","(?:~>?)");c("TILDETRIM",`(\\s*)${s[i.LONETILDE]}\\s+`,!0);f.tildeTrimReplace="$1~";c("TILDE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAIN]}$`);c("TILDELOOSE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAINLOOSE]}$`);c("LONECARET","(?:\\^)");c("CARETTRIM",`(\\s*)${s[i.LONECARET]}\\s+`,!0);f.caretTrimReplace="$1^";c("CARET",`^${s[i.LONECARET]}${s[i.XRANGEPLAIN]}$`);c("CARETLOOSE",`^${s[i.LONECARET]}${s[i.XRANGEPLAINLOOSE]}$`);c("COMPARATORLOOSE",`^${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]})$|^$`);c("COMPARATOR",`^${s[i.GTLT]}\\s*(${s[i.FULLPLAIN]})$|^$`);c("COMPARATORTRIM",`(\\s*)${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]}|${s[i.XRANGEPLAIN]})`,!0);f.comparatorTrimReplace="$1$2$3";c("HYPHENRANGE",`^\\s*(${s[i.XRANGEPLAIN]})\\s+-\\s+(${s[i.XRANGEPLAIN]})\\s*$`);c("HYPHENRANGELOOSE",`^\\s*(${s[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[i.XRANGEPLAINLOOSE]})\\s*$`);c("STAR","(<|>)?=?\\s*\\*");c("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");c("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var be=l((wr,xe)=>{var nn=Object.freeze({loose:!0}),rn=Object.freeze({}),on=t=>t?typeof t!="object"?nn:t:rn;xe.exports=on});var Ne=l((Ir,Re)=>{var ve=/^[0-9]+$/,Ae=(t,e)=>{let n=ve.test(t),r=ve.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},sn=(t,e)=>Ae(e,t);Re.exports={compareIdentifiers:Ae,rcompareIdentifiers:sn}});var J=l(($r,Oe)=>{var U=X(),{MAX_LENGTH:Se,MAX_SAFE_INTEGER:z}=B(),{safeRe:Ce,t:Te}=$e(),an=be(),{compareIdentifiers:b}=Ne(),p=class{constructor(e,n){if(n=an(n),e instanceof p){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Se)throw new TypeError(`version is longer than ${Se} characters`);U("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?Ce[Te.LOOSE]:Ce[Te.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>z||this.major<0)throw new TypeError("Invalid major version");if(this.minor>z||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>z||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let a=+o;if(a>=0&&a<z)return a}return o}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(U("SemVer.compare",this.version,this.options,e),!(e instanceof p)){if(typeof e=="string"&&e===this.version)return 0;e=new p(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof p||(e=new p(e,this.options)),b(this.major,e.major)||b(this.minor,e.minor)||b(this.patch,e.patch)}comparePre(e){if(e instanceof p||(e=new p(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],o=e.prerelease[n];if(U("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return b(r,o)}while(++n)}compareBuild(e){e instanceof p||(e=new p(e,this.options));let n=0;do{let r=this.build[n],o=e.build[n];if(U("prerelease compare",n,r,o),r===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(r===void 0)return-1;if(r===o)continue;return b(r,o)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[o];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(n){let a=[n,o];r===!1&&(a=[n]),b(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Oe.exports=p});var Q=l((xr,Le)=>{var De=J(),cn=(t,e,n=!1)=>{if(t instanceof De)return t;try{return new De(t,e)}catch(r){if(!n)return null;throw r}};Le.exports=cn});var Pe=l((br,ke)=>{var ln=Q(),pn=(t,e)=>{let n=ln(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};ke.exports=pn});var j=l((vr,Fe)=>{var Me=J(),dn=(t,e,n)=>new Me(t,n).compare(new Me(e,n));Fe.exports=dn});var ze=l((Ar,Ue)=>{var mn=j(),un=(t,e,n)=>mn(t,e,n)>0;Ue.exports=un});var Ge=l((Rr,je)=>{var hn=j(),fn=(t,e,n)=>hn(t,e,n)<0;je.exports=fn});var Y=l((Nr,qe)=>{var gn=j(),yn=(t,e,n)=>gn(t,e,n)<=0;qe.exports=yn});var He=l((Sr,_e)=>{var En=Q(),wn=(t,e)=>{let n=En(t,e);return n?n.version:null};_e.exports=wn});var Nn={};st(Nn,{default:()=>Ke});module.exports=it(Nn);var G=h(ce());var le=require("child_process"),pe=require("util");var x=(0,pe.promisify)(le.exec),N=t=>typeof t=="object"&&"stderr"in t?t.stderr:k(t);var de=require("@raycast/api");var me=t=>{try{let e=JSON.parse(t);if(e&&typeof e=="object")return!0}catch{}return!1};var y=require("@raycast/api"),H=class{toast;abortable;_abortController;constructor(e){this.abortable=e.abortable,this.toast=y.environment.launchType===y.LaunchType.UserInitiated?new y.Toast(e):void 0,this.updateAbortAction()}updateAbortAction(){this.toast&&(this._abortController=this.abortable?new AbortController:void 0,this.toast.primaryAction=this.abortable?{title:"Cancel",onAction:()=>{console.warn("Aborting..."),this._abortController?.abort()}}:void 0)}updateContent(e){if(this.toast){let{title:n,style:r,message:o,secondaryAction:a}=this.toast;this.toast.title=e.title??n,this.toast.style=e.style??r,this.toast.message=e.message??o,this.abortable=e.abortable??this.abortable,this.toast.secondaryAction=e.secondaryAction??a,this.updateAbortAction()}}show(){return this.toast?this.toast.show():Promise.resolve()}hide(){return this.toast?this.toast.hide():Promise.resolve()}get abortController(){return this._abortController}},P=async t=>{let e=new H(t);return await e.show(),e};var ue=h(require("os"),1);var{username:Gn}=ue.default.userInfo();var he=require("@raycast/api");var Pt=t=>t==null?"":String(t),k=t=>t instanceof Error?t.message:Pt(t);var Mt=require("@raycast/api");var ge=h(require("os"),1);var fe=`${ge.default.homedir()}/.midway/cookie`,Ut=t=>typeof t=="object"&&t.__type&&t.__type.includes("Exception"),zt=t=>typeof t=="object"&&t.status&&t.status==="error",jt=(t,e)=>{let{cookie:n,data:r,args:o=[],headers:a={},method:A,maxBuffer:m,cancel:R}=e,C=[`curl -sSL '${t}'`,`-X ${A??"GET"}`,Object.entries(a).map(([u,q])=>`-H '${u}: ${q}'`),o,r?[`-d '${JSON.stringify(r)}'`]:[],n?[`-b '${Object.entries(n).map(([u,q])=>`${u}=${q}`).join(";")}'`]:[]].flat();return x(C.join(" "),{maxBuffer:m,signal:R?.signal}).then(({stdout:u})=>me(u)?JSON.parse(u):u).catch(u=>{throw new Error(N(u))})};var E=(t,e={})=>{let{ignoreCoralError:n=!1,writeToCookieFile:r=!0,args:o=[],...a}=e,A=[o,`--anyauth --location-trusted -k -u : -b ${fe}`,r?[`-c ${fe}`]:[]].flat();return jt(t,{...a,args:A}).then(m=>{if(!n&&Ut(m))throw new Error(`${m.__type}${m.message?`: ${m.message}`:""}`);if(zt(m))throw new Error(`${m.message??"Midway Error"}: ${m.desc??"You should authenticate (may use mwinit)"}`);return m})};var Gt=(t,e)=>E("https://gitfarm-sso.corp.amazon.com",{...e,method:"POST",headers:{"Content-Encoding":"amz-1.0","Content-Type":"application/json; charset=UTF-8","X-Amz-Target":`com.amazon.brazil.gitfarm.service.GitFarmService.${t}`}}),ye=t=>Gt("getReferenceSha1s",{data:{repositoryId:t}}).then(e=>e.references);var M=require("@raycast/api");function F(t,e=!0){let{launchType:n,extensionName:r,commandName:o}=M.environment;return!e||n===M.LaunchType.Background?Promise.resolve():E("https://analytics.raycast.tools.aws.dev/v2/stats",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},data:{commandName:o,extensionVersion:t,extensionName:r}}).catch(a=>console.warn(`Failed to publish stats for ${r}/${o}.`,a))}var d=require("@raycast/api");var In=h(Pe(),1),Z=h(ze(),1),$n=h(Ge(),1),xn=h(Y(),1),Xe=h(He(),1);var Be=t=>ye(`pkg/${t}`).then(e=>e.map(n=>(n.name.match(/refs\/tags\/(.*)/)??["",""])[1]).filter(n=>(0,Xe.default)(n))).then(e=>e.length===0?void 0:e.reduce((n,r)=>(0,Z.default)(r,n)?r:n,e[0])).catch(e=>{console.warn(`Failed to get the latest extension version for ${t}.`,e)}),Ve=async t=>{let{launchType:e,extensionName:n}=d.environment,{updateCommandName:r,changelogCommandName:o,currentVersion:a,pkg:A,extensionOwner:m}=t,R=await Be(A);if(e===d.LaunchType.UserInitiated&&R&&(0,Z.default)(R,a)){let C={type:d.LaunchType.UserInitiated,extensionName:n,ownerOrAuthorName:m};await(0,d.showToast)({style:d.Toast.Style.Success,title:`\u2728 New version (${R}) now available!`,message:`Upgrade from current version (${a}) for the latest features and improvements.`,primaryAction:{title:"Update Extension",onAction:()=>(0,d.launchCommand)({name:r??"update-extension",...C})},secondaryAction:{title:"Changelog",onAction:()=>(0,d.launchCommand)({name:o??"extension-changelog",...C})}})}};var S=require("@raycast/api");var vn=h(Y());var Je="1.17.9";var Qe="zhenpewu";var K=Je,An="AmznRaycastExtension";var Ye=()=>Ve({pkg:An,currentVersion:K,extensionOwner:Qe});var Rn=()=>F(K,!0),Ze=Rn;var v=require("@raycast/api");async function Ke(t){let e=t.arguments.id.trim(),n=/^\d+$/.test(e),r=await P({style:v.Toast.Style.Animated,title:`${n?"Encrypt":"Decrypt"}ing ID...`});try{let o=n?(0,G.encryptCustomerId)(e):(0,G.decryptCustomerId)(e);await v.Clipboard.copy(o),r.updateContent({style:v.Toast.Style.Success,title:`\u{1F389} Copied ${n?"encrypt":"decrypt"}ed ID ${o} to clipboard.`})}catch(o){r.updateContent({style:v.Toast.Style.Failure,title:`\u274C Failed to ${n?"encrypt":"decrypt"} ID.`,message:k(o)})}await Ze(),await Ye()}
